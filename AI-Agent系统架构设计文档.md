# ğŸ§  AI Agent ç³»ç»Ÿæ¶æ„è®¾è®¡

> **æ ¸å¿ƒç›®æ ‡**: æ„å»ºä¸€ä¸ªèƒ½ç†è§£æ„å›¾ã€è§„åˆ’æ‰§è¡Œã€è°ƒç”¨å·¥å…·ã€æŒç»­å­¦ä¹ çš„æ™ºèƒ½ä½“ç³»ç»Ÿ

---

## ä¸€ã€ç³»ç»Ÿå…¨æ™¯æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              æ¥å…¥å±‚ (Gateway)                                â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚     â”‚  Web UI â”‚  â”‚   API   â”‚  â”‚   CLI   â”‚  â”‚ Webhook â”‚  â”‚   SDK   â”‚       â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚
                                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            ä¼šè¯ç®¡ç† (Session)                                â”‚
â”‚              ä¼šè¯çŠ¶æ€  â”‚  ç”¨æˆ·èº«ä»½  â”‚  æƒé™æ§åˆ¶  â”‚  é…ç½®ç®¡ç†                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚
                                     â–¼
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                                             â•‘
â•‘                           ğŸ§  Agent Core (æ ¸å¿ƒå¼•æ“)                          â•‘
â•‘                                                                             â•‘
â•‘   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â•‘
â•‘   â”‚                      ä¸Šä¸‹æ–‡ç®¡ç†å™¨ (Context Manager)                  â”‚  â•‘
â•‘   â”‚      System Prompt â”‚ å¯¹è¯å†å² â”‚ è®°å¿†å¬å› â”‚ å·¥å…·ç»“æœ â”‚ ä»»åŠ¡çŠ¶æ€       â”‚  â•‘
â•‘   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â•‘
â•‘                                    â”‚                                        â•‘
â•‘                                    â–¼                                        â•‘
â•‘   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â•‘
â•‘   â”‚                         æ‰§è¡Œå¾ªç¯ (Main Loop)                         â”‚  â•‘
â•‘   â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚  â•‘
â•‘   â”‚              â”‚   è¾“å…¥ â†’ æ€è€ƒ â†’ å†³ç­– â†’ è¡ŒåŠ¨ â†’ è¾“å‡º  â”‚                 â”‚  â•‘
â•‘   â”‚              â”‚          â†‘_______________â”‚         â”‚                 â”‚  â•‘
â•‘   â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚  â•‘
â•‘   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â•‘
â•‘                                    â”‚                                        â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                                     â”‚
             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
             â–¼                       â–¼                       â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚    å·¥å…·ç³»ç»Ÿ      â”‚    â”‚    è®°å¿†ç³»ç»Ÿ      â”‚    â”‚    æ¨¡å‹ç½‘å…³      â”‚
    â”‚     Tools       â”‚    â”‚     Memory      â”‚    â”‚   LLM Gateway   â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
    â”‚  â”‚ å†…ç½®å·¥å…·  â”‚  â”‚    â”‚  â”‚ çŸ­æœŸè®°å¿†  â”‚  â”‚    â”‚  â”‚ æ¨¡å‹è·¯ç”±  â”‚  â”‚
    â”‚  â”‚ MCPæ‰©å±•   â”‚  â”‚    â”‚  â”‚ é•¿æœŸè®°å¿†  â”‚  â”‚    â”‚  â”‚ è´Ÿè½½å‡è¡¡  â”‚  â”‚
    â”‚  â”‚ A2Aè°ƒç”¨   â”‚  â”‚    â”‚  â”‚ çŸ¥è¯†åº“    â”‚  â”‚    â”‚  â”‚ Fallback  â”‚  â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## äºŒã€Agent Core è¯¦ç»†è®¾è®¡

### 2.1 æ‰§è¡Œå¾ªç¯ (Main Loop)

Agent çš„æ ¸å¿ƒè¿è¡Œæœºåˆ¶ï¼Œèå…¥æ£€æŸ¥ç‚¹ã€ä¸­æ–­æœºåˆ¶å’Œç»ˆæ­¢æ¡ä»¶æ§åˆ¶ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       Main Loop æ‰§è¡Œæµç¨‹ (å¢å¼ºç‰ˆ)                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  START                                                                      â”‚
â”‚    â”‚                                                                        â”‚
â”‚    â–¼                                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ 0. ç»ˆæ­¢æ¡ä»¶æ£€æŸ¥ (Termination Check)                    [å€Ÿé‰´ AutoGen] â”‚ â”‚
â”‚  â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚
â”‚  â”‚    â”‚ â€¢ æœ€å¤§è½®æ¬¡æ£€æŸ¥ (max_iterations)                              â”‚   â”‚ â”‚
â”‚  â”‚    â”‚ â€¢ Token é¢„ç®—æ£€æŸ¥ (max_tokens_budget)                         â”‚   â”‚ â”‚
â”‚  â”‚    â”‚ â€¢ è¶…æ—¶æ£€æŸ¥ (timeout)                                         â”‚   â”‚ â”‚
â”‚  â”‚    â”‚ â€¢ è‡ªå®šä¹‰ç»ˆæ­¢æ¡ä»¶                                             â”‚   â”‚ â”‚
â”‚  â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚    â”‚ æœªç»ˆæ­¢                                                                â”‚
â”‚    â–¼                                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ 1. ä¸Šä¸‹æ–‡ç»„è£… (Context Assembly)                                      â”‚ â”‚
â”‚  â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚
â”‚  â”‚    â”‚ â€¢ System Prompt (èƒ½åŠ›ã€çº¦æŸã€è¾“å‡ºæ ¼å¼)                       â”‚   â”‚ â”‚
â”‚  â”‚    â”‚ â€¢ å¬å›è®°å¿† (ç›¸å…³å†å²ã€çŸ¥è¯†ç‰‡æ®µ)                              â”‚   â”‚ â”‚
â”‚  â”‚    â”‚ â€¢ å¯¹è¯å†å² (æœ€è¿‘Nè½® + æ—©æœŸæ‘˜è¦)                              â”‚   â”‚ â”‚
â”‚  â”‚    â”‚ â€¢ å·¥å…·ç»“æœ (ä¸Šè½®å·¥å…·è¿”å›)                                    â”‚   â”‚ â”‚
â”‚  â”‚    â”‚ â€¢ å½“å‰è¾“å…¥ (ç”¨æˆ·æ¶ˆæ¯)                                        â”‚   â”‚ â”‚
â”‚  â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚    â”‚                                                                        â”‚
â”‚    â–¼                                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ 2. ä¿å­˜æ£€æŸ¥ç‚¹ (Checkpoint)                            [å€Ÿé‰´ LangGraph] â”‚ â”‚
â”‚  â”‚    â€¢ æŒä¹…åŒ–å½“å‰çŠ¶æ€åˆ°å­˜å‚¨                                             â”‚ â”‚
â”‚  â”‚    â€¢ æ”¯æŒå´©æºƒæ¢å¤ã€æ—¶é—´æ—…è¡Œè°ƒè¯•                                       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚    â”‚                                                                        â”‚
â”‚    â–¼                                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ 3. æ¨¡å‹æ¨ç† (LLM Inference)                                           â”‚ â”‚
â”‚  â”‚    å®Œæ•´ä¸Šä¸‹æ–‡ â†’ LLM â†’ å“åº” (æ–‡æœ¬ / å·¥å…·è°ƒç”¨ / ç»“æŸæ ‡è®°)               â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚    â”‚                                                                        â”‚
â”‚    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚
â”‚    â–¼                     â–¼                     â–¼                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
â”‚  â”‚ æ–‡æœ¬è¾“å‡º â”‚         â”‚ å·¥å…·è°ƒç”¨ â”‚          â”‚ ä»»åŠ¡å®Œæˆ â”‚                     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
â”‚    â”‚                     â”‚                     â”‚                           â”‚
â”‚    â”‚                     â–¼                     â”‚                           â”‚
â”‚    â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚                           â”‚
â”‚    â”‚    â”‚ 4. Human-in-the-Loop æ£€æŸ¥      â”‚    â”‚  [å€Ÿé‰´ LangGraph]         â”‚
â”‚    â”‚    â”‚    éœ€è¦äººå·¥ç¡®è®¤?                â”‚    â”‚                           â”‚
â”‚    â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚                           â”‚
â”‚    â”‚           â”‚ æ˜¯              â”‚ å¦         â”‚                           â”‚
â”‚    â”‚           â–¼                 â–¼            â”‚                           â”‚
â”‚    â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚                           â”‚
â”‚    â”‚    â”‚ æš‚åœç­‰å¾…ç¡®è®¤ â”‚  â”‚ ç›´æ¥æ‰§è¡Œå·¥å…· â”‚     â”‚                           â”‚
â”‚    â”‚    â”‚ (interrupt) â”‚  â”‚             â”‚     â”‚                           â”‚
â”‚    â”‚    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜     â”‚                           â”‚
â”‚    â”‚           â”‚ ç¡®è®¤/ä¿®æ”¹       â”‚            â”‚                           â”‚
â”‚    â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚                           â”‚
â”‚    â”‚                    â–¼                    â”‚                           â”‚
â”‚    â”‚           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚                           â”‚
â”‚    â”‚           â”‚ 5. æ‰§è¡Œå·¥å…·     â”‚           â”‚                           â”‚
â”‚    â”‚           â”‚  (æ²™ç®±éš”ç¦»æ‰§è¡Œ) â”‚ [å€Ÿé‰´ AutoGen]                        â”‚
â”‚    â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚                           â”‚
â”‚    â”‚                     â”‚                   â”‚                           â”‚
â”‚    â”‚                     â”‚ ç»“æœåŠ å…¥ä¸Šä¸‹æ–‡    â”‚                           â”‚
â”‚    â”‚                     â”‚                   â”‚                           â”‚
â”‚    â–¼                     â–¼                   â–¼                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ 6. åå¤„ç†                                                             â”‚ â”‚
â”‚  â”‚    â€¢ æµå¼è¾“å‡ºç»™ç”¨æˆ·                                                   â”‚ â”‚
â”‚  â”‚    â€¢ è®°å¿†æ›´æ–° (æå–é‡è¦ä¿¡æ¯å­˜å‚¨)                                      â”‚ â”‚
â”‚  â”‚    â€¢ ä¿å­˜æ£€æŸ¥ç‚¹                                                       â”‚ â”‚
â”‚  â”‚    â€¢ åˆ¤æ–­æ˜¯å¦ç»§ç»­å¾ªç¯                                                 â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚    â”‚                                                                        â”‚
â”‚    â”‚ å¦‚æœ‰æ›´å¤šå·¥å…·è°ƒç”¨                                                      â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                  â”‚
â”‚                                         â”‚                                  â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                  â”‚
â”‚    â–¼                                                                        â”‚
â”‚  å›åˆ°æ­¥éª¤0ï¼Œæ£€æŸ¥ç»ˆæ­¢æ¡ä»¶åç»§ç»­å¾ªç¯                                          â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 ç»ˆæ­¢æ¡ä»¶æœºåˆ¶ (å€Ÿé‰´ AutoGen)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              ç»ˆæ­¢æ¡ä»¶ç³»ç»Ÿ                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  ç»ˆæ­¢æ¡ä»¶ç±»å‹                                                        â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚  MaxIterationsTermination(max=10)                                   â”‚   â”‚
â”‚  â”‚  â””â”€ è¾¾åˆ°æœ€å¤§å¾ªç¯æ¬¡æ•°æ—¶ç»ˆæ­¢                                          â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚  TokenBudgetTermination(max_tokens=50000)                           â”‚   â”‚
â”‚  â”‚  â””â”€ è¶…è¿‡Tokené¢„ç®—æ—¶ç»ˆæ­¢ (æˆæœ¬æ§åˆ¶)                                  â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚  TimeoutTermination(seconds=300)                                    â”‚   â”‚
â”‚  â”‚  â””â”€ è¶…æ—¶æ—¶ç»ˆæ­¢                                                      â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚  TextMentionTermination(text="TASK_COMPLETE")                       â”‚   â”‚
â”‚  â”‚  â””â”€ è¾“å‡ºåŒ…å«ç‰¹å®šæ–‡æœ¬æ—¶ç»ˆæ­¢                                          â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚  CustomTermination(func=lambda state: ...)                          â”‚   â”‚
â”‚  â”‚  â””â”€ è‡ªå®šä¹‰ç»ˆæ­¢é€»è¾‘                                                  â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚  ç»„åˆä½¿ç”¨:                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  termination = (                                                     â”‚   â”‚
â”‚  â”‚      MaxIterationsTermination(20) |      # æˆ–                        â”‚   â”‚
â”‚  â”‚      TokenBudgetTermination(100000) |    # æˆ–                        â”‚   â”‚
â”‚  â”‚      TimeoutTermination(600)             # æ»¡è¶³ä»»ä¸€æ¡ä»¶å³ç»ˆæ­¢        â”‚   â”‚
â”‚  â”‚  )                                                                   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚  ç»ˆæ­¢æ—¶çš„å¤„ç†:                                                              â”‚
â”‚  â€¢ ä¿å­˜å½“å‰çŠ¶æ€æ£€æŸ¥ç‚¹                                                      â”‚
â”‚  â€¢ è¿”å›éƒ¨åˆ†ç»“æœå’Œç»ˆæ­¢åŸå›                                                   â”‚
â”‚  â€¢ å¯é€‰: å…è®¸ç”¨æˆ·ç»§ç»­ (å¢åŠ é¢„ç®—)                                           â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.3 æ£€æŸ¥ç‚¹ä¸çŠ¶æ€æŒä¹…åŒ– (å€Ÿé‰´ LangGraph)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           æ£€æŸ¥ç‚¹ç³»ç»Ÿ (Checkpointing)                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  æ ¸å¿ƒèƒ½åŠ›:                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  1. çŠ¶æ€æŒä¹…åŒ–                                                       â”‚   â”‚
â”‚  â”‚     â€¢ æ¯æ­¥æ“ä½œåè‡ªåŠ¨ä¿å­˜çŠ¶æ€                                         â”‚   â”‚
â”‚  â”‚     â€¢ å­˜å‚¨: Redis (å¼€å‘) / PostgreSQL (ç”Ÿäº§)                         â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚  2. å´©æºƒæ¢å¤                                                         â”‚   â”‚
â”‚  â”‚     â€¢ ç³»ç»Ÿå´©æºƒåä»æœ€åæ£€æŸ¥ç‚¹æ¢å¤                                     â”‚   â”‚
â”‚  â”‚     â€¢ é¿å…é•¿ä»»åŠ¡é‡æ–°æ‰§è¡Œ                                             â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚  3. æ—¶é—´æ—…è¡Œè°ƒè¯•                                                     â”‚   â”‚
â”‚  â”‚     â€¢ æŸ¥çœ‹ä»»æ„å†å²çŠ¶æ€                                               â”‚   â”‚
â”‚  â”‚     â€¢ ä»å†å²çŠ¶æ€é‡æ–°æ‰§è¡Œ                                             â”‚   â”‚
â”‚  â”‚     â€¢ å¯¹æ¯”ä¸åŒæ‰§è¡Œè·¯å¾„                                               â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚  4. Human-in-the-Loop æ”¯æŒ                                           â”‚   â”‚
â”‚  â”‚     â€¢ åœ¨æ£€æŸ¥ç‚¹æš‚åœç­‰å¾…äººå·¥                                           â”‚   â”‚
â”‚  â”‚     â€¢ äººå·¥ä¿®æ”¹çŠ¶æ€åç»§ç»­                                             â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚  æ£€æŸ¥ç‚¹æ•°æ®ç»“æ„:                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Checkpoint:                                                         â”‚   â”‚
â”‚  â”‚  â”œâ”€ checkpoint_id: str          # æ£€æŸ¥ç‚¹ID                          â”‚   â”‚
â”‚  â”‚  â”œâ”€ session_id: str             # ä¼šè¯ID                            â”‚   â”‚
â”‚  â”‚  â”œâ”€ step: int                   # æ­¥éª¤åºå·                          â”‚   â”‚
â”‚  â”‚  â”œâ”€ state: SessionState         # å®Œæ•´çŠ¶æ€å¿«ç…§                      â”‚   â”‚
â”‚  â”‚  â”‚   â”œâ”€ messages: list          # æ¶ˆæ¯å†å²                          â”‚   â”‚
â”‚  â”‚  â”‚   â”œâ”€ context: dict           # ä¸Šä¸‹æ–‡æ•°æ®                        â”‚   â”‚
â”‚  â”‚  â”‚   â”œâ”€ tool_results: list      # å·¥å…·æ‰§è¡Œç»“æœ                      â”‚   â”‚
â”‚  â”‚  â”‚   â””â”€ metadata: dict          # å…ƒæ•°æ®                            â”‚   â”‚
â”‚  â”‚  â”œâ”€ created_at: datetime        # åˆ›å»ºæ—¶é—´                          â”‚   â”‚
â”‚  â”‚  â””â”€ parent_id: str | None       # çˆ¶æ£€æŸ¥ç‚¹ (ç”¨äºåˆ†æ”¯)               â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚  ä½¿ç”¨ç¤ºä¾‹:                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  # æ¢å¤æ‰§è¡Œ                                                          â”‚   â”‚
â”‚  â”‚  checkpoint = await checkpointer.get_latest(session_id)              â”‚   â”‚
â”‚  â”‚  await agent.resume(checkpoint)                                      â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚  # æ—¶é—´æ—…è¡Œ                                                          â”‚   â”‚
â”‚  â”‚  history = await checkpointer.list(session_id)                       â”‚   â”‚
â”‚  â”‚  old_checkpoint = await checkpointer.get(checkpoint_id)              â”‚   â”‚
â”‚  â”‚  await agent.resume(old_checkpoint)  # ä»å†å²çŠ¶æ€é‡æ–°æ‰§è¡Œ            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.4 Human-in-the-Loop æœºåˆ¶ (å€Ÿé‰´ LangGraph)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Human-in-the-Loop ä¸­æ–­æœºåˆ¶                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  ä¸­æ–­ç‚¹é…ç½®:                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  interrupt_config:                                                   â”‚   â”‚
â”‚  â”‚    interrupt_before:           # æ‰§è¡Œå‰ä¸­æ–­                          â”‚   â”‚
â”‚  â”‚      - "run_shell"             # Shellå‘½ä»¤å‰æš‚åœ                     â”‚   â”‚
â”‚  â”‚      - "write_file"            # å†™æ–‡ä»¶å‰æš‚åœ                        â”‚   â”‚
â”‚  â”‚      - "delete_file"           # åˆ é™¤å‰æš‚åœ                          â”‚   â”‚
â”‚  â”‚      - "send_email"            # å‘é€å‰æš‚åœ                          â”‚   â”‚
â”‚  â”‚    interrupt_after:            # æ‰§è¡Œåä¸­æ–­                          â”‚   â”‚
â”‚  â”‚      - "generate_plan"         # ç”Ÿæˆè®¡åˆ’åæš‚åœä¾›å®¡æ ¸                â”‚   â”‚
â”‚  â”‚    auto_approve:               # è‡ªåŠ¨æ‰¹å‡†æ¡ä»¶                        â”‚   â”‚
â”‚  â”‚      - pattern: "read_*"       # è¯»æ“ä½œè‡ªåŠ¨æ‰¹å‡†                      â”‚   â”‚
â”‚  â”‚      - pattern: "search_*"     # æœç´¢æ“ä½œè‡ªåŠ¨æ‰¹å‡†                    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚  ä¸­æ–­æµç¨‹:                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚   Agent å‡†å¤‡æ‰§è¡Œ run_shell("rm -rf /tmp/data")                       â”‚   â”‚
â”‚  â”‚          â”‚                                                           â”‚   â”‚
â”‚  â”‚          â–¼                                                           â”‚   â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚   â”‚
â”‚  â”‚   â”‚ æ£€æŸ¥: run_shell åœ¨ interrupt_before ä¸­   â”‚                       â”‚   â”‚
â”‚  â”‚   â”‚ ç»“æœ: éœ€è¦ä¸­æ–­                           â”‚                       â”‚   â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚   â”‚
â”‚  â”‚          â”‚                                                           â”‚   â”‚
â”‚  â”‚          â–¼                                                           â”‚   â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚   â”‚
â”‚  â”‚   â”‚ ä¿å­˜æ£€æŸ¥ç‚¹ï¼Œè¿”å› InterruptEvent          â”‚                       â”‚   â”‚
â”‚  â”‚   â”‚ {                                        â”‚                       â”‚   â”‚
â”‚  â”‚   â”‚   status: "interrupted",                 â”‚                       â”‚   â”‚
â”‚  â”‚   â”‚   pending_action: {                      â”‚                       â”‚   â”‚
â”‚  â”‚   â”‚     tool: "run_shell",                   â”‚                       â”‚   â”‚
â”‚  â”‚   â”‚     args: {"command": "rm -rf /tmp/data"}â”‚                       â”‚   â”‚
â”‚  â”‚   â”‚   },                                     â”‚                       â”‚   â”‚
â”‚  â”‚   â”‚   checkpoint_id: "xxx"                   â”‚                       â”‚   â”‚
â”‚  â”‚   â”‚ }                                        â”‚                       â”‚   â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚   â”‚
â”‚  â”‚          â”‚                                                           â”‚   â”‚
â”‚  â”‚          â–¼                                                           â”‚   â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚   â”‚
â”‚  â”‚   â”‚ å‰ç«¯å±•ç¤ºå¾…ç¡®è®¤æ“ä½œï¼Œç”¨æˆ·é€‰æ‹©:            â”‚                       â”‚   â”‚
â”‚  â”‚   â”‚ [æ‰¹å‡†] [ä¿®æ”¹] [æ‹’ç»]                     â”‚                       â”‚   â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚   â”‚
â”‚  â”‚          â”‚                                                           â”‚   â”‚
â”‚  â”‚    â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                        â”‚   â”‚
â”‚  â”‚    â–¼           â–¼           â–¼                                        â”‚   â”‚
â”‚  â”‚  æ‰¹å‡†        ä¿®æ”¹åæ‰¹å‡†    æ‹’ç»                                      â”‚   â”‚
â”‚  â”‚    â”‚           â”‚           â”‚                                        â”‚   â”‚
â”‚  â”‚    â–¼           â–¼           â–¼                                        â”‚   â”‚
â”‚  â”‚  ç»§ç»­æ‰§è¡Œ   ç”¨ä¿®æ”¹çš„    è¿”å›é”™è¯¯                                     â”‚   â”‚
â”‚  â”‚  åŸå‘½ä»¤    å‚æ•°æ‰§è¡Œ    ç»™ Agent                                     â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚  API æ¥å£:                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  POST /chat/resume                                                   â”‚   â”‚
â”‚  â”‚  {                                                                   â”‚   â”‚
â”‚  â”‚    "session_id": "xxx",                                              â”‚   â”‚
â”‚  â”‚    "checkpoint_id": "xxx",                                           â”‚   â”‚
â”‚  â”‚    "action": "approve" | "modify" | "reject",                        â”‚   â”‚
â”‚  â”‚    "modified_args": {...}  // ä»… action=modify æ—¶                    â”‚   â”‚
â”‚  â”‚  }                                                                   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.5 æ¨ç†æ¨¡å¼ (Reasoning Modes)

æ ¹æ®ä»»åŠ¡å¤æ‚åº¦ï¼Œé€‰æ‹©åˆé€‚çš„æ¨ç†ç­–ç•¥ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                             æ¨ç†æ¨¡å¼çŸ©é˜µ                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  æ¨¡å¼              ç‰¹ç‚¹                      é€‚ç”¨åœºæ™¯                â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚  Direct           ç›´æ¥å“åº”                   ç®€å•é—®ç­”ã€é—²èŠ          â”‚   â”‚
â”‚  â”‚  ReAct            æ¨ç†â†”è¡ŒåŠ¨äº¤æ›¿              éœ€è¦å·¥å…·çš„å¤æ‚ä»»åŠ¡      â”‚   â”‚
â”‚  â”‚  Plan-Act         å…ˆè§„åˆ’åæ‰§è¡Œ               å¤šæ­¥éª¤ä»»åŠ¡              â”‚   â”‚
â”‚  â”‚  CoT              æ€ç»´é“¾é€æ­¥æ¨å¯¼             æ•°å­¦è®¡ç®—ã€é€»è¾‘åˆ†æ      â”‚   â”‚
â”‚  â”‚  ToT              æ€ç»´æ ‘å¤šè·¯å¾„æ¢ç´¢           åˆ›æ„ç”Ÿæˆã€ç­–ç•¥è§„åˆ’      â”‚   â”‚
â”‚  â”‚  Reflect          æ‰§è¡Œååæ€æ”¹è¿›             é«˜è´¨é‡è¾“å‡ºè¦æ±‚          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚  å®ç°æ–¹å¼: é€šè¿‡ System Prompt å¼•å¯¼æ¨¡å‹æŒ‰ç‰¹å®šæ ¼å¼è¾“å‡º                        â”‚
â”‚                                                                             â”‚
â”‚  ReAct ç¤ºä¾‹:                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Thought: ç”¨æˆ·éœ€è¦æœ€æ–°çš„å¤©æ°”ä¿¡æ¯ï¼Œæˆ‘éœ€è¦è°ƒç”¨å¤©æ°”API                  â”‚   â”‚
â”‚  â”‚  Action: get_weather(city="åŒ—äº¬")                                    â”‚   â”‚
â”‚  â”‚  Observation: åŒ—äº¬ä»Šå¤©æ™´ï¼Œæ¸©åº¦5-15â„ƒ                                  â”‚   â”‚
â”‚  â”‚  Thought: æˆ‘å·²ç»è·å–åˆ°å¤©æ°”ä¿¡æ¯ï¼Œå¯ä»¥å›å¤ç”¨æˆ·äº†                       â”‚   â”‚
â”‚  â”‚  Answer: åŒ—äº¬ä»Šå¤©å¤©æ°”æ™´æœ—ï¼Œæ¸©åº¦5-15â„ƒï¼Œé€‚åˆæˆ·å¤–æ´»åŠ¨ã€‚                 â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚  Plan-Act ç¤ºä¾‹:                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Plan:                                                               â”‚   â”‚
â”‚  â”‚  1. è¯»å–ç”¨æˆ·æä¾›çš„CSVæ–‡ä»¶                                            â”‚   â”‚
â”‚  â”‚  2. åˆ†ææ•°æ®ç»“æ„å’Œå­—æ®µ                                               â”‚   â”‚
â”‚  â”‚  3. æ‰§è¡Œæ•°æ®æ¸…æ´—                                                     â”‚   â”‚
â”‚  â”‚  4. ç”Ÿæˆç»Ÿè®¡åˆ†æ                                                     â”‚   â”‚
â”‚  â”‚  5. è¾“å‡ºæŠ¥å‘Š                                                         â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚  Executing Step 1: read_file("data.csv")                             â”‚   â”‚
â”‚  â”‚  Result: [æ–‡ä»¶å†…å®¹]                                                  â”‚   â”‚
â”‚  â”‚  Executing Step 2: ...                                               â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.6 æ¡ä»¶è·¯ç”± (å€Ÿé‰´ LangGraph)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              æ¡ä»¶è·¯ç”±æœºåˆ¶                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  ç¡®å®šæ€§è·¯ç”±: ä¸ä¾èµ– LLM åˆ¤æ–­ï¼Œæµç¨‹å¯é¢„æµ‹                                    â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚   Agent æ‰§è¡Œå®Œæˆå                                                   â”‚   â”‚
â”‚  â”‚          â”‚                                                           â”‚   â”‚
â”‚  â”‚          â–¼                                                           â”‚   â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚   â”‚
â”‚  â”‚   â”‚          æ¡ä»¶è·¯ç”±åˆ¤æ–­                     â”‚                       â”‚   â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚   â”‚
â”‚  â”‚          â”‚                                                           â”‚   â”‚
â”‚  â”‚    â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                               â”‚   â”‚
â”‚  â”‚    â–¼           â–¼         â–¼          â–¼                               â”‚   â”‚
â”‚  â”‚  æœ‰å·¥å…·è°ƒç”¨  éœ€äººå·¥ç¡®è®¤   å‡ºé”™     ä»»åŠ¡å®Œæˆ                          â”‚   â”‚
â”‚  â”‚    â”‚           â”‚         â”‚          â”‚                               â”‚   â”‚
â”‚  â”‚    â–¼           â–¼         â–¼          â–¼                               â”‚   â”‚
â”‚  â”‚  æ‰§è¡Œå·¥å…·   æš‚åœç­‰å¾…   é”™è¯¯å¤„ç†    è¿”å›ç»“æœ                          â”‚   â”‚
â”‚  â”‚  åç»§ç»­      ç¡®è®¤                                                    â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚  è·¯ç”±å‡½æ•°ç¤ºä¾‹:                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  def route_by_state(state: SessionState) -> str:                     â”‚   â”‚
â”‚  â”‚      """ç¡®å®šæ€§è·¯ç”±é€»è¾‘ï¼Œä¸è°ƒç”¨ LLM"""                                 â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚      # ä¼˜å…ˆçº§1: æ£€æŸ¥æ˜¯å¦æœ‰å¾…ç¡®è®¤çš„é«˜é£é™©æ“ä½œ                         â”‚   â”‚
â”‚  â”‚      if state.pending_dangerous_action:                              â”‚   â”‚
â”‚  â”‚          return "wait_for_human"                                     â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚      # ä¼˜å…ˆçº§2: æ£€æŸ¥æ˜¯å¦æœ‰é”™è¯¯                                       â”‚   â”‚
â”‚  â”‚      if state.last_error:                                            â”‚   â”‚
â”‚  â”‚          return "error_handler"                                      â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚      # ä¼˜å…ˆçº§3: æ£€æŸ¥æ˜¯å¦æœ‰å·¥å…·è°ƒç”¨                                   â”‚   â”‚
â”‚  â”‚      if state.pending_tool_calls:                                    â”‚   â”‚
â”‚  â”‚          return "execute_tools"                                      â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚      # ä¼˜å…ˆçº§4: æ£€æŸ¥æ˜¯å¦ä»»åŠ¡å®Œæˆ                                     â”‚   â”‚
â”‚  â”‚      if state.task_complete:                                         â”‚   â”‚
â”‚  â”‚          return "finish"                                             â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚      # é»˜è®¤: ç»§ç»­æ¨ç†                                                â”‚   â”‚
â”‚  â”‚      return "continue"                                               â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚  ä¼˜åŠ¿:                                                                      â”‚
â”‚  â€¢ æµç¨‹å¯é¢„æµ‹ï¼Œä¸ä¼šå›  LLM è¾“å‡ºä¸ç¨³å®šè€Œè·‘å                                 â”‚
â”‚  â€¢ æ˜“äºæµ‹è¯•å’Œè°ƒè¯•                                                          â”‚
â”‚  â€¢ æ€§èƒ½æ›´å¥½ï¼Œæ— éœ€é¢å¤– LLM è°ƒç”¨                                             â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ä¸‰ã€ä¸Šä¸‹æ–‡ç®¡ç†ç³»ç»Ÿ

### 3.1 ä¸Šä¸‹æ–‡ç»“æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                             ä¸Šä¸‹æ–‡ç»„æˆç»“æ„                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“  â”‚
â”‚  â”ƒ  1. System Prompt                                         ~1K tokens â”ƒ  â”‚
â”‚  â”ƒ  â”œâ”€ è§’è‰²å®šä¹‰: Agentçš„èº«ä»½å’Œèƒ½åŠ›è¾¹ç•Œ                                  â”ƒ  â”‚
â”‚  â”ƒ  â”œâ”€ è¡Œä¸ºå‡†åˆ™: å¦‚ä½•æ€è€ƒã€å¦‚ä½•å›åº”                                     â”ƒ  â”‚
â”‚  â”ƒ  â”œâ”€ è¾“å‡ºæ ¼å¼: JSON / Markdown / è‡ªç„¶è¯­è¨€                             â”ƒ  â”‚
â”‚  â”ƒ  â””â”€ å·¥å…·è¯´æ˜: å¯ç”¨å·¥å…·æ¸…å•åŠä½¿ç”¨æ–¹æ³•                                 â”ƒ  â”‚
â”‚  â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›  â”‚
â”‚                                     â”‚                                       â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”·â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“  â”‚
â”‚  â”ƒ  2. å¬å›è®°å¿† (Retrieved Memory)                           åŠ¨æ€åˆ†é…   â”ƒ  â”‚
â”‚  â”ƒ  â”œâ”€ ç›¸å…³å†å²å¯¹è¯ç‰‡æ®µ                                                 â”ƒ  â”‚
â”‚  â”ƒ  â”œâ”€ ç”¨æˆ·åå¥½ä¸ä¹ æƒ¯                                                   â”ƒ  â”‚
â”‚  â”ƒ  â””â”€ ç›¸å…³çŸ¥è¯†æ–‡æ¡£ (RAG)                                               â”ƒ  â”‚
â”‚  â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›  â”‚
â”‚                                     â”‚                                       â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”·â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“  â”‚
â”‚  â”ƒ  3. å¯¹è¯å†å² (Conversation History)                       åŠ¨æ€åˆ†é…   â”ƒ  â”‚
â”‚  â”ƒ  â”œâ”€ æœ€è¿‘ N è½®å®Œæ•´å¯¹è¯                                                â”ƒ  â”‚
â”‚  â”ƒ  â””â”€ æ›´æ—©å¯¹è¯çš„å‹ç¼©æ‘˜è¦                                               â”ƒ  â”‚
â”‚  â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›  â”‚
â”‚                                     â”‚                                       â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”·â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“  â”‚
â”‚  â”ƒ  4. å·¥ä½œçŠ¶æ€ (Working State)                               åŠ¨æ€åˆ†é…   â”ƒ  â”‚
â”‚  â”ƒ  â”œâ”€ å½“å‰ä»»åŠ¡è¿›åº¦                                                     â”ƒ  â”‚
â”‚  â”ƒ  â”œâ”€ ä¸Šä¸€æ­¥å·¥å…·è°ƒç”¨ç»“æœ                                               â”ƒ  â”‚
â”‚  â”ƒ  â””â”€ å¾…å¤„ç†æ­¥éª¤                                                       â”ƒ  â”‚
â”‚  â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›  â”‚
â”‚                                     â”‚                                       â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”·â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“  â”‚
â”‚  â”ƒ  5. å½“å‰è¾“å…¥ (Current Input)                                         â”ƒ  â”‚
â”‚  â”ƒ  â””â”€ ç”¨æˆ·æœ€æ–°æ¶ˆæ¯                                                     â”ƒ  â”‚
â”‚  â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›  â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 Token é¢„ç®—ç®¡ç†

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            Token é¢„ç®—åˆ†é…                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  å‡è®¾æ¨¡å‹ä¸Šä¸‹æ–‡çª—å£ = 128K tokens                                            â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  ç»„æˆéƒ¨åˆ†              åˆ†é…ç­–ç•¥              ä¼˜å…ˆçº§                  â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚  è¾“å‡ºé¢„ç•™              ~4K (å›ºå®š)            æœ€é«˜                    â”‚   â”‚
â”‚  â”‚  System Prompt        ~1K (å›ºå®š)            æœ€é«˜                    â”‚   â”‚
â”‚  â”‚  å½“å‰è¾“å…¥              ~N (ç”¨æˆ·å†³å®š)         æœ€é«˜                    â”‚   â”‚
â”‚  â”‚  å·¥å…·ç»“æœ              ~20K (åŠ¨æ€ä¸Šé™)       é«˜                      â”‚   â”‚
â”‚  â”‚  æœ€è¿‘å¯¹è¯              ~30K (åŠ¨æ€)           ä¸­                      â”‚   â”‚
â”‚  â”‚  å¬å›è®°å¿†              ~30K (åŠ¨æ€)           ä¸­                      â”‚   â”‚
â”‚  â”‚  å†å²æ‘˜è¦              ~10K (åŠ¨æ€)           ä½                      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚  è£å‰ªç­–ç•¥ (å½“è¶…å‡ºé¢„ç®—æ—¶):                                                    â”‚
â”‚  1. ä¼˜å…ˆä¿è¯: System + å½“å‰è¾“å…¥ + æœ€æ–°å·¥å…·ç»“æœ                              â”‚
â”‚  2. æŒ‰ç›¸å…³æ€§è£å‰ªå¬å›è®°å¿†                                                    â”‚
â”‚  3. å‹ç¼©æ—©æœŸå¯¹è¯ä¸ºæ‘˜è¦                                                      â”‚
â”‚  4. æˆªæ–­è¿‡é•¿çš„å·¥å…·ç»“æœ                                                      â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.3 ä¸Šä¸‹æ–‡å‹ç¼©ç­–ç•¥

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            ä¸Šä¸‹æ–‡å‹ç¼©ç­–ç•¥                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  ç­–ç•¥1: æ»‘åŠ¨çª—å£                                                            â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                          â”‚
â”‚  [1][2][3][4][5][6][7][8][9][10]  â†’  [6][7][8][9][10]                       â”‚
â”‚  ä¿ç•™æœ€è¿‘Nè½®ï¼Œä¸¢å¼ƒæ›´æ—©çš„                                                    â”‚
â”‚                                                                             â”‚
â”‚  ç­–ç•¥2: æ‘˜è¦å‹ç¼©                                                            â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                          â”‚
â”‚  [1][2][3][4][5]  â†’  [æ‘˜è¦: è®¨è®ºäº†XXé—®é¢˜ï¼Œç¡®å®šäº†YYæ–¹æ¡ˆ]                     â”‚
â”‚       + [6][7][8][9][10]                                                    â”‚
â”‚  æ—©æœŸå¯¹è¯ç”Ÿæˆæ‘˜è¦ï¼Œä¿ç•™è¿‘æœŸå®Œæ•´å¯¹è¯                                          â”‚
â”‚                                                                             â”‚
â”‚  ç­–ç•¥3: é‡è¦æ€§ç­›é€‰                                                          â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                          â”‚
â”‚  æ ¹æ®ä¸å½“å‰é—®é¢˜çš„ç›¸å…³æ€§è¯„åˆ†ï¼Œä¿ç•™é«˜åˆ†å†…å®¹                                    â”‚
â”‚  è¯„åˆ† = è¯­ä¹‰ç›¸ä¼¼åº¦ Ã— æ—¶é—´è¡°å‡ Ã— ä¿¡æ¯å¯†åº¦                                     â”‚
â”‚                                                                             â”‚
â”‚  æ¨èç»„åˆ:                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  [å†å²æ‘˜è¦] + [ç›¸å…³å¬å›] + [æœ€è¿‘Nè½®å®Œæ•´] + [å½“å‰è¾“å…¥]                â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## å››ã€è®°å¿†ç³»ç»Ÿ

### 4.1 è®°å¿†åˆ†å±‚æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              è®°å¿†ç³»ç»Ÿæ¶æ„                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  L1: å·¥ä½œè®°å¿† (Working Memory)                                        â”‚ â”‚
â”‚  â”‚  ä½ç½®: å†…å­˜                                                           â”‚ â”‚
â”‚  â”‚  å‘¨æœŸ: å•æ¬¡å¾ªç¯                                                       â”‚ â”‚
â”‚  â”‚  å†…å®¹: å½“å‰ä»»åŠ¡çŠ¶æ€ã€å·¥å…·è¿”å›å€¼ã€ä¸­é—´è®¡ç®—                             â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                 â”‚ æ•´ç†                                      â”‚
â”‚                                 â–¼                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  L2: ä¼šè¯è®°å¿† (Session Memory)                                        â”‚ â”‚
â”‚  â”‚  ä½ç½®: ç¼“å­˜ (Redis)                                                   â”‚ â”‚
â”‚  â”‚  å‘¨æœŸ: å½“å‰ä¼šè¯                                                       â”‚ â”‚
â”‚  â”‚  å†…å®¹: å®Œæ•´å¯¹è¯å†å²ã€ä¼šè¯é…ç½®ã€ä¸´æ—¶åå¥½                               â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                 â”‚ æ²‰æ·€                                      â”‚
â”‚                                 â–¼                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  L3: é•¿æœŸè®°å¿† (Long-term Memory)                                      â”‚ â”‚
â”‚  â”‚  ä½ç½®: å‘é‡æ•°æ®åº“ + å…³ç³»æ•°æ®åº“                                        â”‚ â”‚
â”‚  â”‚  å‘¨æœŸ: æŒä¹…åŒ–                                                         â”‚ â”‚
â”‚  â”‚  å†…å®¹:                                                                â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚ â”‚
â”‚  â”‚  â”‚   äº‹å®è®°å¿†      â”‚   ç»éªŒè®°å¿†      â”‚   ç¨‹åºè®°å¿†      â”‚             â”‚ â”‚
â”‚  â”‚  â”‚  (Semantic)     â”‚  (Episodic)     â”‚  (Procedural)   â”‚             â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤             â”‚ â”‚
â”‚  â”‚  â”‚  ç”¨æˆ·åå¥½       â”‚  å†å²å¯¹è¯æ‘˜è¦   â”‚  å¸¸ç”¨å·¥ä½œæµ     â”‚             â”‚ â”‚
â”‚  â”‚  â”‚  çŸ¥è¯†äº‹å®       â”‚  æˆåŠŸ/å¤±è´¥ç»éªŒ  â”‚  æŠ€èƒ½æ¨¡å¼       â”‚             â”‚ â”‚
â”‚  â”‚  â”‚  å®ä½“å…³ç³»       â”‚  å…³é”®å†³ç­–è®°å½•   â”‚  æœ€ä½³å®è·µ       â”‚             â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                 â”‚ å…³è”                                      â”‚
â”‚                                 â–¼                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  L4: å¤–éƒ¨çŸ¥è¯† (External Knowledge)                                    â”‚ â”‚
â”‚  â”‚  ä½ç½®: æ–‡æ¡£åº“ã€çŸ¥è¯†åº“ã€API                                            â”‚ â”‚
â”‚  â”‚  å†…å®¹: æ–‡æ¡£ã€ç½‘é¡µã€æ•°æ®åº“ã€å¤–éƒ¨æœåŠ¡                                   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 è®°å¿†è¯»å†™æœºåˆ¶

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              è®°å¿†è¯»å†™æµç¨‹                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  ã€å†™å…¥ã€‘ä½•æ—¶å­˜å‚¨è®°å¿†ï¼Ÿ                                                      â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                    â”‚
â”‚  â€¢ ç”¨æˆ·æ˜ç¡®è¡¨è¾¾åå¥½ ("æˆ‘å–œæ¬¢ç®€æ´çš„å›ç­”")                                    â”‚
â”‚  â€¢ é‡è¦äº‹å®ä¿¡æ¯ ("æˆ‘çš„é‚®ç®±æ˜¯xxx")                                           â”‚
â”‚  â€¢ ä»»åŠ¡å…³é”®ç»“è®º                                                             â”‚
â”‚  â€¢ æˆåŠŸ/å¤±è´¥ç»éªŒ                                                            â”‚
â”‚                                                                             â”‚
â”‚  å†™å…¥æµç¨‹:                                                                  â”‚
â”‚  å¯¹è¯å†…å®¹ â†’ é‡è¦æ€§åˆ¤æ–­ â†’ ä¿¡æ¯æŠ½å– â†’ å‘é‡åŒ– â†’ å­˜å‚¨                           â”‚
â”‚                                                                             â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                             â”‚
â”‚  ã€è¯»å–ã€‘ä½•æ—¶å¬å›è®°å¿†ï¼Ÿ                                                      â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                    â”‚
â”‚  æ¯æ¬¡ç”¨æˆ·è¾“å…¥æ—¶ï¼Œæ ¹æ®å½“å‰é—®é¢˜æ£€ç´¢ç›¸å…³è®°å¿†                                    â”‚
â”‚                                                                             â”‚
â”‚  å¬å›æµç¨‹:                                                                  â”‚
â”‚  ç”¨æˆ·è¾“å…¥ â†’ å‘é‡åŒ– â†’ å¤šè·¯å¬å› â†’ æ’åºå»é‡ â†’ Top-K â†’ åŠ å…¥ä¸Šä¸‹æ–‡               â”‚
â”‚                                                                             â”‚
â”‚  å¤šè·¯å¬å›ç­–ç•¥:                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  â€¢ å‘é‡ç›¸ä¼¼åº¦: è¯­ä¹‰ç›¸å…³çš„å†…å®¹                                        â”‚   â”‚
â”‚  â”‚  â€¢ å…³é”®è¯åŒ¹é…: ç²¾ç¡®åŒ¹é…çš„è®°å½•                                        â”‚   â”‚
â”‚  â”‚  â€¢ æ—¶é—´ç›¸å…³: æœ€è¿‘çš„äº¤äº’è®°å½•                                          â”‚   â”‚
â”‚  â”‚  â€¢ ç”¨æˆ·ç”»åƒ: å›ºå®šçš„ç”¨æˆ·åå¥½                                          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚  ç»¼åˆè¯„åˆ†: Score = ç›¸å…³æ€§ Ã— æ—¶æ•ˆæ€§ Ã— é‡è¦æ€§                                 â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## äº”ã€å·¥å…·ç³»ç»Ÿ

### 5.1 å·¥å…·æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              å·¥å…·ç³»ç»Ÿæ¶æ„                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                        å·¥å…·æ³¨å†Œä¸­å¿ƒ (Tool Registry)                    â”‚ â”‚
â”‚  â”‚              å·¥å…·å‘ç°  â”‚  èƒ½åŠ›æè¿°  â”‚  ç‰ˆæœ¬ç®¡ç†  â”‚  ä¾èµ–è§£æ            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                    â”‚                                        â”‚
â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚            â–¼                       â–¼                       â–¼               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚    å†…ç½®å·¥å…·      â”‚    â”‚    MCP æ‰©å±•     â”‚    â”‚    A2A è°ƒç”¨     â”‚        â”‚
â”‚  â”‚   (Built-in)    â”‚    â”‚   (Protocol)    â”‚    â”‚  (Agent Call)   â”‚        â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤        â”‚
â”‚  â”‚ ğŸ“ æ–‡ä»¶æ“ä½œ     â”‚    â”‚ ç¬¬ä¸‰æ–¹SaaS      â”‚    â”‚ ä¸“ä¸šAgentè°ƒç”¨   â”‚        â”‚
â”‚  â”‚ ğŸ’» ä»£ç æ‰§è¡Œ     â”‚    â”‚ ä¼ä¸šå†…éƒ¨ç³»ç»Ÿ    â”‚    â”‚ ç‹¬ç«‹ä»»åŠ¡å¤–åŒ…    â”‚        â”‚
â”‚  â”‚ ğŸŒ ç½‘ç»œè¯·æ±‚     â”‚    â”‚ é¢†åŸŸä¸“ä¸šå·¥å…·    â”‚    â”‚ é¿å…ä¸Šä¸‹æ–‡æ±¡æŸ“  â”‚        â”‚
â”‚  â”‚ ğŸ“Š æ•°æ®æŸ¥è¯¢     â”‚    â”‚                 â”‚    â”‚                 â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                    â”‚                                        â”‚
â”‚                                    â–¼                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                        å·¥å…·æ‰§è¡Œå¼•æ“ (Executor)                         â”‚ â”‚
â”‚  â”‚        å‚æ•°æ ¡éªŒ  â”‚  æƒé™æ£€æŸ¥  â”‚  æ²™ç®±æ‰§è¡Œ  â”‚  è¶…æ—¶æ§åˆ¶  â”‚  ç»“æœæ ¼å¼åŒ–  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.2 æ ¸å¿ƒå·¥å…·æ¸…å•

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              æ ¸å¿ƒå·¥å…·çŸ©é˜µ                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  ğŸ“ æ–‡ä»¶æ“ä½œ                        ğŸŒ ç½‘ç»œäº¤äº’                             â”‚
â”‚  â”œâ”€ read_file     è¯»å–æ–‡ä»¶          â”œâ”€ web_search    äº’è”ç½‘æœç´¢            â”‚
â”‚  â”œâ”€ write_file    å†™å…¥æ–‡ä»¶          â”œâ”€ http_request  HTTPè¯·æ±‚              â”‚
â”‚  â”œâ”€ edit_file     ç¼–è¾‘æ–‡ä»¶(diff)    â”œâ”€ browse_page   æµè§ˆç½‘é¡µ              â”‚
â”‚  â”œâ”€ list_dir      åˆ—å‡ºç›®å½•          â””â”€ screenshot    ç½‘é¡µæˆªå›¾              â”‚
â”‚  â””â”€ search_files  æœç´¢æ–‡ä»¶                                                 â”‚
â”‚                                                                             â”‚
â”‚  ğŸ’» ä»£ç æ‰§è¡Œ                        ğŸ“Š æ•°æ®æ“ä½œ                             â”‚
â”‚  â”œâ”€ run_shell     Shellå‘½ä»¤         â”œâ”€ query_db      æ•°æ®åº“æŸ¥è¯¢            â”‚
â”‚  â”œâ”€ run_python    Pythonä»£ç         â”œâ”€ vector_search å‘é‡æ£€ç´¢              â”‚
â”‚  â””â”€ run_script    è„šæœ¬æ–‡ä»¶          â””â”€ data_transformæ•°æ®è½¬æ¢              â”‚
â”‚                                                                             â”‚
â”‚  ğŸ”§ è¾…åŠ©å·¥å…·                        ğŸ¤– Agentè°ƒç”¨ (A2A)                      â”‚
â”‚  â”œâ”€ todo_manage   ä»»åŠ¡ç®¡ç†          â”œâ”€ call_analyst  æ•°æ®åˆ†æAgent         â”‚
â”‚  â”œâ”€ create_image  å›¾åƒç”Ÿæˆ          â”œâ”€ call_coder    ä»£ç ç”ŸæˆAgent         â”‚
â”‚  â””â”€ send_message  æ¶ˆæ¯é€šçŸ¥          â””â”€ call_writer   æ–‡æ¡ˆå†™ä½œAgent         â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.3 å·¥å…·è°ƒç”¨æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              å·¥å…·è°ƒç”¨æµç¨‹                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  LLM è¿”å›å·¥å…·è°ƒç”¨                                                           â”‚
â”‚       â”‚                                                                     â”‚
â”‚       â–¼                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ 1. è§£ææ ¡éªŒ                                                          â”‚   â”‚
â”‚  â”‚    â€¢ è§£æå·¥å…·åç§°å’Œå‚æ•°                                              â”‚   â”‚
â”‚  â”‚    â€¢ æ ¡éªŒå‚æ•°ç±»å‹å’Œæ ¼å¼                                              â”‚   â”‚
â”‚  â”‚    â€¢ æ£€æŸ¥å·¥å…·æ˜¯å¦å¯ç”¨                                                â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚       â”‚                                                                     â”‚
â”‚       â–¼                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ 2. Human-in-the-Loop æ£€æŸ¥                                            â”‚   â”‚
â”‚  â”‚    â€¢ è¯»æ“ä½œ: è‡ªåŠ¨æ‰§è¡Œ                                                â”‚   â”‚
â”‚  â”‚    â€¢ å†™æ“ä½œ: å¯é…ç½®æ˜¯å¦ç¡®è®¤                                          â”‚   â”‚
â”‚  â”‚    â€¢ å±é™©æ“ä½œ: å¿…é¡»äººå·¥ç¡®è®¤ (interrupt)                              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚       â”‚                                                                     â”‚
â”‚       â”œâ”€â”€â”€ éœ€è¦ç¡®è®¤ â”€â”€â”€â–¶ ä¿å­˜æ£€æŸ¥ç‚¹ï¼Œæš‚åœç­‰å¾…ç”¨æˆ·ç¡®è®¤                      â”‚
â”‚       â”‚                         â”‚                                          â”‚
â”‚       â–¼                         â”‚ ç¡®è®¤å                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ 3. æ‰§è¡Œå·¥å…· (æ²™ç®±éš”ç¦»)                                 [å€Ÿé‰´ AutoGen] â”‚   â”‚
â”‚  â”‚    â€¢ è®¾ç½®è¶…æ—¶é™åˆ¶                                                    â”‚   â”‚
â”‚  â”‚    â€¢ ä»£ç æ‰§è¡Œç±» â†’ Docker å®¹å™¨éš”ç¦»æ‰§è¡Œ                                â”‚   â”‚
â”‚  â”‚    â€¢ æ™®é€šå·¥å…· â†’ ç›´æ¥æ‰§è¡Œ                                             â”‚   â”‚
â”‚  â”‚    â€¢ æ•è·ç»“æœæˆ–é”™è¯¯                                                  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚       â”‚                                                                     â”‚
â”‚       â–¼                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ 4. ç»“æœå¤„ç†                                                          â”‚   â”‚
â”‚  â”‚    â€¢ æˆªæ–­è¿‡é•¿å†…å®¹                                                    â”‚   â”‚
â”‚  â”‚    â€¢ æ•æ„Ÿä¿¡æ¯è„±æ•                                                    â”‚   â”‚
â”‚  â”‚    â€¢ æ ¼å¼åŒ–è¾“å‡º                                                      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚       â”‚                                                                     â”‚
â”‚       â–¼                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ 5. ä¿å­˜æ£€æŸ¥ç‚¹                                                        â”‚   â”‚
â”‚  â”‚    â€¢ æŒä¹…åŒ–å·¥å…·è°ƒç”¨ç»“æœ                                              â”‚   â”‚
â”‚  â”‚    â€¢ æ”¯æŒæ‰§è¡Œå¤±è´¥åä»æ­¤å¤„æ¢å¤                                        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚       â”‚                                                                     â”‚
â”‚       â–¼                                                                     â”‚
â”‚  ç»“æœåŠ å…¥ä¸Šä¸‹æ–‡ï¼Œç»§ç»­ Main Loop                                             â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.4 ä»£ç æ²™ç®±æ‰§è¡Œ (å€Ÿé‰´ AutoGen)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           ä»£ç æ²™ç®±æ‰§è¡Œæ¶æ„                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  æ‰§è¡Œå™¨ç±»å‹:                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚  Level 1: LocalExecutor (å¼€å‘ç¯å¢ƒ)                                   â”‚   â”‚
â”‚  â”‚  â”œâ”€ ç›´æ¥åœ¨æœ¬åœ°æ‰§è¡Œ                                                  â”‚   â”‚
â”‚  â”‚  â”œâ”€ é€‚åˆå¼€å‘æµ‹è¯•                                                    â”‚   â”‚
â”‚  â”‚  â””â”€ âš ï¸ ç”Ÿäº§ç¯å¢ƒç¦ç”¨                                                 â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚  Level 2: DockerExecutor (æ¨è)                         âœ… ç”Ÿäº§æ¨è  â”‚   â”‚
â”‚  â”‚  â”œâ”€ Docker å®¹å™¨å†…éš”ç¦»æ‰§è¡Œ                                           â”‚   â”‚
â”‚  â”‚  â”œâ”€ èµ„æºé™åˆ¶ (CPU/å†…å­˜/ç£ç›˜)                                        â”‚   â”‚
â”‚  â”‚  â”œâ”€ ç½‘ç»œéš”ç¦» (å¯é€‰)                                                 â”‚   â”‚
â”‚  â”‚  â”œâ”€ è¶…æ—¶è‡ªåŠ¨ç»ˆæ­¢                                                    â”‚   â”‚
â”‚  â”‚  â””â”€ æ‰§è¡Œå®Œè‡ªåŠ¨æ¸…ç†                                                  â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚  Level 3: E2B/äº‘æ²™ç®± (é«˜å®‰å…¨éœ€æ±‚)                                    â”‚   â”‚
â”‚  â”‚  â”œâ”€ å®Œå…¨éš”ç¦»çš„äº‘ç¯å¢ƒ                                                â”‚   â”‚
â”‚  â”‚  â”œâ”€ æ— éœ€ç®¡ç†åŸºç¡€è®¾æ–½                                                â”‚   â”‚
â”‚  â”‚  â””â”€ é€‚åˆå¤šç§Ÿæˆ· SaaS                                                 â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚  Docker æ²™ç®±é…ç½®:                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  docker_executor:                                                    â”‚   â”‚
â”‚  â”‚    image: "python:3.11-slim"        # åŸºç¡€é•œåƒ                      â”‚   â”‚
â”‚  â”‚    timeout: 60                      # è¶…æ—¶ç§’æ•°                      â”‚   â”‚
â”‚  â”‚    memory_limit: "512m"             # å†…å­˜é™åˆ¶                      â”‚   â”‚
â”‚  â”‚    cpu_limit: 1.0                   # CPUé™åˆ¶                       â”‚   â”‚
â”‚  â”‚    network_mode: "none"             # ç¦ç”¨ç½‘ç»œ (å¯é€‰)               â”‚   â”‚
â”‚  â”‚    work_dir: "/workspace"           # å·¥ä½œç›®å½•                      â”‚   â”‚
â”‚  â”‚    auto_remove: true                # æ‰§è¡Œå®Œè‡ªåŠ¨åˆ é™¤å®¹å™¨             â”‚   â”‚
â”‚  â”‚    volumes:                         # æŒ‚è½½å·                         â”‚   â”‚
â”‚  â”‚      - "/tmp/sandbox:/workspace"    # å…±äº«å·¥ä½œç›®å½•                   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚  æ‰§è¡Œæµç¨‹:                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  1. åˆ›å»ºä¸´æ—¶å·¥ä½œç›®å½•                                                 â”‚   â”‚
â”‚  â”‚  2. å°†ä»£ç /è„šæœ¬å†™å…¥å·¥ä½œç›®å½•                                         â”‚   â”‚
â”‚  â”‚  3. å¯åŠ¨ Docker å®¹å™¨ï¼ŒæŒ‚è½½å·¥ä½œç›®å½•                                   â”‚   â”‚
â”‚  â”‚  4. åœ¨å®¹å™¨å†…æ‰§è¡Œä»£ç                                                  â”‚   â”‚
â”‚  â”‚  5. æ•è· stdout/stderr                                               â”‚   â”‚
â”‚  â”‚  6. è¶…æ—¶æˆ–å®Œæˆåç»ˆæ­¢å®¹å™¨                                             â”‚   â”‚
â”‚  â”‚  7. è¯»å–è¾“å‡ºæ–‡ä»¶ (å¦‚æœ‰)                                              â”‚   â”‚
â”‚  â”‚  8. æ¸…ç†ä¸´æ—¶ç›®å½•å’Œå®¹å™¨                                               â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.5 å·¥å…·è®¾è®¡åŸåˆ™

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              å·¥å…·è®¾è®¡åŸåˆ™                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  1. å•ä¸€èŒè´£                                                                â”‚
â”‚     æ¯ä¸ªå·¥å…·åªåšä¸€ä»¶äº‹                                                      â”‚
â”‚     âŒ create_and_send_email()                                              â”‚
â”‚     âœ… create_email() + send_email()                                        â”‚
â”‚                                                                             â”‚
â”‚  2. æ¸…æ™°æè¿°                                                                â”‚
â”‚     è®©æ¨¡å‹å‡†ç¡®ç†è§£ä½•æ—¶ä½¿ç”¨                                                  â”‚
â”‚     âŒ "æœç´¢å·¥å…·"                                                           â”‚
â”‚     âœ… "åœ¨äº’è”ç½‘æœç´¢å®æ—¶ä¿¡æ¯ï¼Œé€‚ç”¨äºéœ€è¦æœ€æ–°æ•°æ®æˆ–æœ¬åœ°çŸ¥è¯†åº“æ²¡æœ‰çš„å†…å®¹"      â”‚
â”‚                                                                             â”‚
â”‚  3. ç»“æœå¯ç†è§£                                                              â”‚
â”‚     è¿”å›æ¨¡å‹èƒ½ç†è§£çš„æ ¼å¼                                                    â”‚
â”‚     âŒ è¿”å›åŸå§‹HTML                                                         â”‚
â”‚     âœ… è¿”å›æå–åçš„ç»“æ„åŒ–æ•°æ®æˆ–æ‘˜è¦                                         â”‚
â”‚                                                                             â”‚
â”‚  4. å®‰å…¨è¾¹ç•Œ                                                                â”‚
â”‚     é«˜é£é™©æ“ä½œéœ€è¦æ§åˆ¶                                                      â”‚
â”‚     è¯»æ“ä½œ â†’ è‡ªåŠ¨æ‰§è¡Œ                                                       â”‚
â”‚     å†™æ“ä½œ â†’ å¯é…ç½®ç¡®è®¤                                                     â”‚
â”‚     å±é™©æ“ä½œ â†’ å¼ºåˆ¶ç¡®è®¤                                                     â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## å…­ã€æ¨¡å‹ç½‘å…³

### 6.1 æ¨¡å‹ç½‘å…³æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              æ¨¡å‹ç½‘å…³æ¶æ„                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚                          Agent Core è¯·æ±‚                                    â”‚
â”‚                                â”‚                                            â”‚
â”‚                                â–¼                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                         ç»Ÿä¸€æ¥å£å±‚                                     â”‚ â”‚
â”‚  â”‚                    æ ‡å‡†åŒ–è¯·æ±‚/å“åº”æ ¼å¼                                  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                â”‚                                            â”‚
â”‚                                â–¼                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                          è·¯ç”±ç­–ç•¥                                      â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚ â”‚
â”‚  â”‚  â”‚ ä»»åŠ¡ç±»å‹    â”‚ æˆæœ¬ä¼˜åŒ–    â”‚ å»¶è¿Ÿä¼˜å…ˆ    â”‚ è´¨é‡ä¼˜å…ˆ    â”‚           â”‚ â”‚
â”‚  â”‚  â”‚ è·¯ç”±       â”‚ è·¯ç”±        â”‚ è·¯ç”±        â”‚ è·¯ç”±        â”‚           â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                â”‚                                            â”‚
â”‚          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
â”‚          â–¼                     â–¼                     â–¼                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚   OpenAI    â”‚      â”‚   Claude    â”‚      â”‚  æœ¬åœ°æ¨¡å‹   â”‚               â”‚
â”‚  â”‚  GPT-4/4o   â”‚      â”‚   Sonnet    â”‚      â”‚ Llama/Qwen â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                                â”‚                                            â”‚
â”‚                                â–¼                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                        å®¹é”™ä¸é™çº§                                      â”‚ â”‚
â”‚  â”‚           é‡è¯•æœºåˆ¶  â”‚  Fallback  â”‚  ç†”æ–­ä¿æŠ¤  â”‚  é™æµ                 â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.2 è·¯ç”±ç­–ç•¥

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              æ¨¡å‹è·¯ç”±ç­–ç•¥                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  åœºæ™¯                          æ¨èæ¨¡å‹                åŸå›                  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ç®€å•å¯¹è¯/é—®ç­”                 GPT-4o-mini / Claude Haiku  æˆæœ¬ä½ã€é€Ÿåº¦å¿«  â”‚
â”‚  å¤æ‚æ¨ç†/ä»£ç                  GPT-4o / Claude Sonnet      èƒ½åŠ›å¼º         â”‚
â”‚  è¶…é•¿ä¸Šä¸‹æ–‡                   Claude 3.5 / Gemini 1.5     çª—å£å¤§          â”‚
â”‚  æ•æ„Ÿæ•°æ®å¤„ç†                  æœ¬åœ°éƒ¨ç½²æ¨¡å‹                æ•°æ®å®‰å…¨        â”‚
â”‚                                                                             â”‚
â”‚  é™çº§ç­–ç•¥:                                                                  â”‚
â”‚  ä¸»æ¨¡å‹å¤±è´¥ â†’ å¤‡ç”¨æ¨¡å‹ â†’ æœ¬åœ°æ¨¡å‹ â†’ è¿”å›é”™è¯¯                                â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ä¸ƒã€å®‰å…¨ä¸æƒé™

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              å®‰å…¨æ¶æ„                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ L1: è¾¹ç•Œå®‰å…¨                                                          â”‚ â”‚
â”‚  â”‚     APIè®¤è¯ (JWT/OAuth) â”‚ è¯·æ±‚é™æµ â”‚ è¾“å…¥éªŒè¯                         â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                    â”‚                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ L2: è®¿é—®æ§åˆ¶                                                          â”‚ â”‚
â”‚  â”‚     ç”¨æˆ·è®¤è¯ â”‚ è§’è‰²æƒé™(RBAC) â”‚ èµ„æºè®¿é—®ç­–ç•¥                          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                    â”‚                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ L3: æ‰§è¡Œéš”ç¦»                                                          â”‚ â”‚
â”‚  â”‚     ä»£ç æ²™ç®± â”‚ å®¹å™¨éš”ç¦»(Docker) â”‚ ç½‘ç»œéš”ç¦»                            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                    â”‚                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ L4: æ•°æ®å®‰å…¨                                                          â”‚ â”‚
â”‚  â”‚     æ•æ„Ÿæ•°æ®è„±æ• â”‚ ä¼ è¾“åŠ å¯†(TLS) â”‚ å­˜å‚¨åŠ å¯†(AES)                       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                    â”‚                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ L5: å®¡è®¡è¿½è¸ª                                                          â”‚ â”‚
â”‚  â”‚     æ“ä½œæ—¥å¿— â”‚ è¡Œä¸ºå®¡è®¡ â”‚ å¼‚å¸¸æ£€æµ‹                                    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                             â”‚
â”‚  Human-in-the-Loop æ§åˆ¶ç‚¹:                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  ä½é£é™© (è¯»å–/æŸ¥è¯¢)     â†’ è‡ªåŠ¨æ‰§è¡Œ                                    â”‚ â”‚
â”‚  â”‚  ä¸­é£é™© (å¯æ’¤é”€å†™å…¥)    â†’ é€šçŸ¥ + è‡ªåŠ¨æ‰§è¡Œ                             â”‚ â”‚
â”‚  â”‚  é«˜é£é™© (åˆ é™¤/å‘å¸ƒ/æ”¯ä»˜) â†’ ç­‰å¾…äººå·¥ç¡®è®¤                                â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## å…«ã€å¯è§‚æµ‹æ€§

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              ç›‘æ§ä½“ç³»                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚    ç³»ç»ŸæŒ‡æ ‡     â”‚   â”‚    ä¸šåŠ¡æŒ‡æ ‡     â”‚   â”‚     AIæŒ‡æ ‡      â”‚          â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤          â”‚
â”‚  â”‚ CPU/å†…å­˜/ç£ç›˜   â”‚   â”‚ ä»»åŠ¡å®Œæˆç‡     â”‚   â”‚ Tokenæ¶ˆè€—       â”‚          â”‚
â”‚  â”‚ è¯·æ±‚QPS        â”‚   â”‚ å¹³å‡å“åº”æ—¶é—´   â”‚   â”‚ æ¨¡å‹è°ƒç”¨æ¬¡æ•°    â”‚          â”‚
â”‚  â”‚ é”™è¯¯ç‡         â”‚   â”‚ ç”¨æˆ·æ»¡æ„åº¦     â”‚   â”‚ æ¨ç†å»¶è¿Ÿ        â”‚          â”‚
â”‚  â”‚ å¯ç”¨æ€§         â”‚   â”‚ ä¼šè¯æ—¶é•¿       â”‚   â”‚ å·¥å…·è°ƒç”¨åˆ†å¸ƒ    â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                                             â”‚
â”‚  æ‰§è¡Œè¿½è¸ª (Tracing):                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Request â†’ Agent â†’ Think â†’ Tool1 â†’ Tool2 â†’ Response                  â”‚ â”‚
â”‚  â”‚  trace_id  span    span    span    span    span                       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                             â”‚
â”‚  æ€è€ƒé“¾è·¯å¯è§†åŒ–:                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  ğŸ¤” æ€è€ƒ: "ç”¨æˆ·éœ€è¦æŸ¥è¯¢é”€å”®æ•°æ®..."                                   â”‚ â”‚
â”‚  â”‚     â”œâ”€â–¶ ğŸ“‹ è®¡åˆ’: [1.æŸ¥æ•°æ®åº“ 2.åˆ†æ 3.ç”ŸæˆæŠ¥è¡¨]                       â”‚ â”‚
â”‚  â”‚     â”œâ”€â–¶ ğŸ”§ å·¥å…·: query_db â†’ âœ… 1000æ¡è®°å½•                            â”‚ â”‚
â”‚  â”‚     â”œâ”€â–¶ ğŸ”§ å·¥å…·: create_chart â†’ âœ… chart_url                         â”‚ â”‚
â”‚  â”‚     â””â”€â–¶ ğŸ’¬ å›å¤: "åˆ†æå®Œæˆï¼ŒæŠ¥è¡¨é“¾æ¥..."                              â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 8.1 æ—¶é—´æ—…è¡Œè°ƒè¯• (å€Ÿé‰´ LangGraph Studio)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                             æ—¶é—´æ—…è¡Œè°ƒè¯•                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  åŸºäºæ£€æŸ¥ç‚¹ç³»ç»Ÿå®ç°çš„å¼ºå¤§è°ƒè¯•èƒ½åŠ›:                                          â”‚
â”‚                                                                             â”‚
â”‚  æ‰§è¡Œæ—¶é—´çº¿:                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚   â† Step 1 â†’  â† Step 2 â†’  â† Step 3 â†’  â† Step 4 â†’  [å½“å‰]            â”‚   â”‚
â”‚  â”‚   [ä¸Šä¸‹æ–‡ç»„è£…] [LLMæ¨ç†]   [å·¥å…·æ‰§è¡Œ]   [ç»“æœå¤„ç†]                   â”‚   â”‚
â”‚  â”‚        â”‚          â”‚            â”‚            â”‚                        â”‚   â”‚
â”‚  â”‚        â–¼          â–¼            â–¼            â–¼                        â”‚   â”‚
â”‚  â”‚   checkpoint_1  checkpoint_2  checkpoint_3  checkpoint_4             â”‚   â”‚
â”‚  â”‚                      â†‘                                               â”‚   â”‚
â”‚  â”‚                      â””â”€â”€â”€ ç‚¹å‡»å›åˆ°è¿™é‡Œï¼ŒæŸ¥çœ‹å½“æ—¶çŠ¶æ€                 â”‚   â”‚
â”‚  â”‚                           å¯ä»¥ä»è¿™é‡Œé‡æ–°æ‰§è¡Œ                         â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚  çŠ¶æ€å¯¹æ¯” (State Diff):                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Step 2 â†’ Step 3 å˜åŒ–:                                               â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚  messages:                                                           â”‚   â”‚
â”‚  â”‚    + [assistant]: "æˆ‘éœ€è¦æŸ¥è¯¢æ•°æ®åº“..."                              â”‚   â”‚
â”‚  â”‚    + [tool_call]: query_db(sql="SELECT...")                          â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚  tool_results:                                                       â”‚   â”‚
â”‚  â”‚    + [query_db]: {rows: 1000, ...}                                   â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚  token_usage:                                                        â”‚   â”‚
â”‚  â”‚    - total: 2500                                                     â”‚   â”‚
â”‚  â”‚    + total: 3200 (+700)                                              â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚  è°ƒè¯•æ“ä½œ:                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  â€¢ æŸ¥çœ‹å†å²çŠ¶æ€: ä»»æ„æ£€æŸ¥ç‚¹çš„å®Œæ•´çŠ¶æ€å¿«ç…§                            â”‚   â”‚
â”‚  â”‚  â€¢ çŠ¶æ€å¯¹æ¯”: ä¸¤ä¸ªæ£€æŸ¥ç‚¹ä¹‹é—´çš„å·®å¼‚                                    â”‚   â”‚
â”‚  â”‚  â€¢ é‡æ–°æ‰§è¡Œ: ä»ä»»æ„æ£€æŸ¥ç‚¹é‡æ–°å¼€å§‹æ‰§è¡Œ                                â”‚   â”‚
â”‚  â”‚  â€¢ ä¿®æ”¹é‡æ”¾: ä¿®æ”¹æŸæ­¥çš„è¾“å…¥ï¼Œè§‚å¯Ÿä¸åŒç»“æœ                            â”‚   â”‚
â”‚  â”‚  â€¢ åˆ†æ”¯å¯¹æ¯”: å¯¹æ¯”ä¸åŒæ‰§è¡Œè·¯å¾„çš„ç»“æœ                                  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚  é€‚ç”¨åœºæ™¯:                                                                  â”‚
â”‚  â€¢ è°ƒè¯• Agent ä¸ºä»€ä¹ˆåšå‡ºæŸä¸ªå†³ç­–                                           â”‚
â”‚  â€¢ åˆ†æå·¥å…·è°ƒç”¨å¤±è´¥çš„åŸå›                                                   â”‚
â”‚  â€¢ ä¼˜åŒ– Prompt æ—¶å¯¹æ¯”æ•ˆæœ                                                  â”‚
â”‚  â€¢ æ’æŸ¥ä¸Šä¸‹æ–‡è¢«æˆªæ–­çš„é—®é¢˜                                                  â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ä¹ã€æŠ€æœ¯é€‰å‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              æŠ€æœ¯é€‰å‹å»ºè®®                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  å±‚çº§              æ¨èæ–¹æ¡ˆ                       è¯´æ˜                      â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  Web å‰ç«¯         React + Vite                   è½»é‡SPAï¼Œå¼€å‘å¿«           â”‚
â”‚  åç«¯æœåŠ¡         FastAPI (Python)               ç®€å•é«˜æ•ˆï¼ŒAIç”Ÿæ€å‹å¥½      â”‚
â”‚  Agentæ¡†æ¶        LangChain / è‡ªç ”               è§†å¤æ‚åº¦é€‰æ‹©              â”‚
â”‚  æ¨¡å‹æ¥å…¥         LiteLLM                        ç»Ÿä¸€å¤šæ¨¡å‹æ¥å£            â”‚
â”‚  å‘é‡æ•°æ®åº“       Chroma(è½»é‡) / Milvus(ç”Ÿäº§)    æŒ‰è§„æ¨¡é€‰æ‹©                â”‚
â”‚  ä¸»æ•°æ®åº“         PostgreSQL                     ç¨³å®šå¯é                   â”‚
â”‚  ç¼“å­˜             Redis                          ä¼šè¯çŠ¶æ€ã€è®°å¿†ç¼“å­˜        â”‚
â”‚  æ¶ˆæ¯é˜Ÿåˆ—         Redis / RabbitMQ               å¼‚æ­¥ä»»åŠ¡å¤„ç†              â”‚
â”‚  ä»£ç æ²™ç®±         E2B / Docker                   å®‰å…¨æ‰§è¡Œä»£ç               â”‚
â”‚                                                                             â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                             â”‚
â”‚  MVP æœ€ç®€æ–¹æ¡ˆ:                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                        å‰ç«¯ (React/Streamlit)                         â”‚ â”‚
â”‚  â”‚                               â”‚                                       â”‚ â”‚
â”‚  â”‚                        FastAPI åç«¯                                   â”‚ â”‚
â”‚  â”‚                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                               â”‚ â”‚
â”‚  â”‚                     â”‚   Agent Core    â”‚                               â”‚ â”‚
â”‚  â”‚                     â”‚  Main Loop      â”‚                               â”‚ â”‚
â”‚  â”‚                     â”‚  Context Mgr    â”‚                               â”‚ â”‚
â”‚  â”‚                     â”‚  Tool Executor  â”‚                               â”‚ â”‚
â”‚  â”‚                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                               â”‚ â”‚
â”‚  â”‚                    /         â”‚         \                              â”‚ â”‚
â”‚  â”‚              SQLite       Chroma      LLM API                         â”‚ â”‚
â”‚  â”‚            (ä¼šè¯/è®°å¿†)    (å‘é‡åº“)    (OpenAIç­‰)                       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                             â”‚
â”‚  å¯åŠ¨: docker-compose up                                                    â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## åã€å®æ–½è·¯çº¿å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              å®æ–½è·¯çº¿å›¾                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  Phase 1: æ ¸å¿ƒå¼•æ“ (2-3å‘¨)                                                  â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”                                                  â”‚
â”‚  â–¡ Main Loop å®ç°                                                          â”‚
â”‚  â–¡ åŸºç¡€ä¸Šä¸‹æ–‡ç®¡ç†                                                          â”‚
â”‚  â–¡ 3-5ä¸ªæ ¸å¿ƒå·¥å…· (æ–‡ä»¶ã€Shellã€æœç´¢)                                        â”‚
â”‚  â–¡ ç®€å• Web UI                                                             â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ èƒ½å¯¹è¯ã€èƒ½æ‰§è¡Œ        â”‚
â”‚                                                                             â”‚
â”‚  Phase 2: è®°å¿†å¢å¼º (2-3å‘¨)                                                  â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”                                                  â”‚
â”‚  â–¡ ä¼šè¯è®°å¿†æŒä¹…åŒ–                                                          â”‚
â”‚  â–¡ é•¿æœŸè®°å¿† + å‘é‡æ£€ç´¢                                                     â”‚
â”‚  â–¡ ä¸Šä¸‹æ–‡å‹ç¼©ç­–ç•¥                                                          â”‚
â”‚  â–¡ RAG çŸ¥è¯†åº“æ¥å…¥                                                          â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ èƒ½è®°ä½ã€èƒ½å­¦ä¹         â”‚
â”‚                                                                             â”‚
â”‚  Phase 3: èƒ½åŠ›æ‰©å±• (3-4å‘¨)                                                  â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”                                                  â”‚
â”‚  â–¡ æ¨ç†æ¨¡å¼ (ReAct/Plan-Act/Reflect)                                       â”‚
â”‚  â–¡ MCP åè®®æ”¯æŒ                                                            â”‚
â”‚  â–¡ æµè§ˆå™¨è‡ªåŠ¨åŒ–                                                            â”‚
â”‚  â–¡ A2A è°ƒç”¨æ”¯æŒ                                                            â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ èƒ½æ¨ç†ã€èƒ½æ‰©å±•        â”‚
â”‚                                                                             â”‚
â”‚  Phase 4: ç”Ÿäº§å°±ç»ª (æŒ‰éœ€)                                                   â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”                                                   â”‚
â”‚  â–¡ å¤šç”¨æˆ·æ”¯æŒ                                                              â”‚
â”‚  â–¡ æƒé™å’Œå®¡è®¡                                                              â”‚
â”‚  â–¡ ç›‘æ§å’Œå‘Šè­¦                                                              â”‚
â”‚  â–¡ é«˜å¯ç”¨éƒ¨ç½²                                                              â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ èƒ½ä¸Šçº¿ã€èƒ½è¿ç»´        â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## é™„å½•ï¼šæ ¸å¿ƒæ•°æ®æ¨¡å‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              æ ¸å¿ƒæ•°æ®æ¨¡å‹                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  Agent                             Session                                  â”‚
â”‚  â”œâ”€ id: UUID                       â”œâ”€ id: UUID                              â”‚
â”‚  â”œâ”€ name: String                   â”œâ”€ user_id: UUID                         â”‚
â”‚  â”œâ”€ system_prompt: Text            â”œâ”€ agent_id: UUID                        â”‚
â”‚  â”œâ”€ model_config: JSON             â”œâ”€ status: Enum                          â”‚
â”‚  â”œâ”€ tools: [Tool]                  â”œâ”€ context: JSON                         â”‚
â”‚  â””â”€ memory_config: JSON            â””â”€ messages: [Message]                   â”‚
â”‚                                                                             â”‚
â”‚  Message                           Memory                                   â”‚
â”‚  â”œâ”€ id: UUID                       â”œâ”€ id: UUID                              â”‚
â”‚  â”œâ”€ session_id: UUID               â”œâ”€ user_id: UUID                         â”‚
â”‚  â”œâ”€ role: Enum                     â”œâ”€ type: Enum                            â”‚
â”‚  â”œâ”€ content: Text                  â”œâ”€ content: Text                         â”‚
â”‚  â”œâ”€ tool_calls: JSON               â”œâ”€ embedding: Vector                     â”‚
â”‚  â””â”€ created_at: DateTime           â””â”€ importance: Float                     â”‚
â”‚                                                                             â”‚
â”‚  Tool                              Task                                     â”‚
â”‚  â”œâ”€ id: UUID                       â”œâ”€ id: UUID                              â”‚
â”‚  â”œâ”€ name: String                   â”œâ”€ session_id: UUID                      â”‚
â”‚  â”œâ”€ description: Text              â”œâ”€ status: Enum                          â”‚
â”‚  â”œâ”€ parameters: JSON               â”œâ”€ plan: JSON                            â”‚
â”‚  â””â”€ category: Enum                 â””â”€ result: JSON                          â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

<div align="center">

**ç†è§£æ„å›¾ Â· è§„åˆ’æ‰§è¡Œ Â· è°ƒç”¨å·¥å…· Â· æŒç»­å­¦ä¹ **

*æ–‡æ¡£ç‰ˆæœ¬: v4.0 | æœ€åæ›´æ–°: 2026-01-12*

*æœ¬ç‰ˆæœ¬èå…¥ç«å“ä¼˜ç§€è®¾è®¡: æ£€æŸ¥ç‚¹æŒä¹…åŒ–(LangGraph) | Human-in-the-Loop(LangGraph) | ç»ˆæ­¢æ¡ä»¶(AutoGen) | Dockeræ²™ç®±(AutoGen) | æ—¶é—´æ—…è¡Œè°ƒè¯•(LangGraph Studio)*

</div>

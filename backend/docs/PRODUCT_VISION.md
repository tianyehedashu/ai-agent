# ğŸš€ AI Agent äº§å“å½¢æ€è®¾è®¡

> **ç‰ˆæœ¬**: 1.0.0
> **æ›´æ–°æ—¥æœŸ**: 2026-01-14
> **è¯´æ˜**: ç»¼åˆå¯¹è¯å¼ä»»åŠ¡æ‰§è¡Œã€å·¥ä½œæµè®¾è®¡ã€å·¥ä½œå°åŠŸèƒ½çš„æœ€ä½³äº§å“å½¢æ€

---

## ğŸ“‹ ç›®å½•

1. [äº§å“å®šä½](#äº§å“å®šä½)
2. [æ ¸å¿ƒèƒ½åŠ›](#æ ¸å¿ƒèƒ½åŠ›)
3. [ç»Ÿä¸€å¯¹è¯ç•Œé¢](#ç»Ÿä¸€å¯¹è¯ç•Œé¢)
4. [æ™ºèƒ½æ„å›¾è¯†åˆ«](#æ™ºèƒ½æ„å›¾è¯†åˆ«)
5. [æ¸è¿›å¼å·¥ä½œæµè®¾è®¡](#æ¸è¿›å¼å·¥ä½œæµè®¾è®¡)
6. [æŠ€æœ¯æ¶æ„](#æŠ€æœ¯æ¶æ„)
7. [å®ç°æ–¹æ¡ˆ](#å®ç°æ–¹æ¡ˆ)

---

## äº§å“å®šä½

### 1.1 äº§å“æ„¿æ™¯

**ä¸€ä¸ªç»Ÿä¸€çš„ AI Agent å¹³å°ï¼Œé€šè¿‡å¯¹è¯å®Œæˆä¸€åˆ‡ï¼š**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          äº§å“æ„¿æ™¯                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  ç”¨æˆ·è¯´ï¼š"å¸®æˆ‘å†™ä¸€ä¸ª Python APIï¼Œè¿æ¥åˆ°æ•°æ®åº“ï¼Œéƒ¨ç½²åˆ°æœåŠ¡å™¨"                â”‚
â”‚                                                                             â”‚
â”‚  ç³»ç»Ÿç†è§£ï¼š                                                                 â”‚
â”‚  â€¢ è¿™æ˜¯ä¸€ä¸ªä»»åŠ¡æ‰§è¡Œè¯·æ±‚ï¼ˆä¸æ˜¯å·¥ä½œæµè®¾è®¡ï¼‰                                    â”‚
â”‚  â€¢ éœ€è¦ï¼šç¼–ç  + å·¥å…·è°ƒç”¨ + éƒ¨ç½²                                              â”‚
â”‚                                                                             â”‚
â”‚  ç³»ç»Ÿæ‰§è¡Œï¼š                                                                 â”‚
â”‚  1. ç”Ÿæˆ Python ä»£ç                                                         â”‚
â”‚  2. è°ƒç”¨å·¥å…·ï¼šè¿æ¥æ•°æ®åº“ã€åˆ›å»ºæ–‡ä»¶                                           â”‚
â”‚  3. éƒ¨ç½²åˆ°æœåŠ¡å™¨                                                            â”‚
â”‚  4. è¿”å›ç»“æœ                                                                â”‚
â”‚                                                                             â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                             â”‚
â”‚  ç”¨æˆ·è¯´ï¼š"è®¾è®¡ä¸€ä¸ªå®¢æœå·¥ä½œæµï¼Œèƒ½å›ç­”äº§å“é—®é¢˜ã€æŸ¥è¯¢è®¢å•ã€å¿…è¦æ—¶è½¬äººå·¥"        â”‚
â”‚                                                                             â”‚
â”‚  ç³»ç»Ÿç†è§£ï¼š                                                                 â”‚
â”‚  â€¢ è¿™æ˜¯ä¸€ä¸ªå·¥ä½œæµè®¾è®¡è¯·æ±‚                                                    â”‚
â”‚  â€¢ éœ€è¦ï¼šåˆ›å»º Agent + è®¾è®¡æµç¨‹ + é…ç½®å·¥å…·                                   â”‚
â”‚                                                                             â”‚
â”‚  ç³»ç»Ÿæ‰§è¡Œï¼š                                                                 â”‚
â”‚  1. åˆ›å»ºå®¢æœ Agent                                                          â”‚
â”‚  2. è®¾è®¡å·¥ä½œæµï¼ˆæ„å›¾è¯†åˆ« â†’ æ¡ä»¶è·¯ç”± â†’ å¤„ç†åˆ†æ”¯ï¼‰                            â”‚
â”‚  3. é…ç½®å·¥å…·ï¼ˆçŸ¥è¯†åº“ã€è®¢å•APIã€å·¥å•ç³»ç»Ÿï¼‰                                   â”‚
â”‚  4. è¿›å…¥å·¥ä½œå°ï¼Œå¯è§†åŒ–å±•ç¤ºå’Œç¼–è¾‘                                            â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.2 æ ¸å¿ƒä»·å€¼

**ä¸€å¥è¯æ€»ç»“**ï¼š**"å¯¹è¯å³ç¼–ç¨‹ï¼Œå¯¹è¯å³è®¾è®¡"**

- âœ… **é›¶é—¨æ§›**ï¼šé€šè¿‡å¯¹è¯å®Œæˆå¤æ‚ä»»åŠ¡ï¼Œæ— éœ€å­¦ä¹ ç¼–ç¨‹
- âœ… **æ™ºèƒ½åŒ–**ï¼šç³»ç»Ÿè‡ªåŠ¨ç†è§£æ„å›¾ï¼Œé€‰æ‹©æ‰§è¡Œæ–¹å¼
- âœ… **æ¸è¿›å¼**ï¼šä»ç®€å•å¯¹è¯åˆ°å¤æ‚å·¥ä½œæµï¼Œé€æ­¥å®Œå–„
- âœ… **å¯è§†åŒ–**ï¼šå·¥ä½œæµè‡ªåŠ¨å¯è§†åŒ–ï¼Œæ”¯æŒåŒå‘ç¼–è¾‘

---

## æ ¸å¿ƒèƒ½åŠ›

### 2.1 èƒ½åŠ›çŸ©é˜µ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          æ ¸å¿ƒèƒ½åŠ›çŸ©é˜µ                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  èƒ½åŠ›ç±»å‹          â”‚ æè¿°                    â”‚ å®ç°æ–¹å¼                      â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  å¯¹è¯å¼ä»»åŠ¡æ‰§è¡Œ    â”‚ ç›´æ¥é€šè¿‡å¯¹è¯å®Œæˆä»»åŠ¡    â”‚ Agent Core æ‰§è¡Œ               â”‚
â”‚  å¯¹è¯å¼å·¥ä½œæµè®¾è®¡  â”‚ é€šè¿‡å¯¹è¯è®¾è®¡å·¥ä½œæµ      â”‚ å·¥ä½œå° + Agent Core           â”‚
â”‚  è‡ªä¸»å·¥å…·è°ƒç”¨      â”‚ Agent è‡ªåŠ¨é€‰æ‹©å·¥å…·      â”‚ Tool System                   â”‚
â”‚  å·¥å…·æ³¨å†Œ          â”‚ åŠ¨æ€æ³¨å†Œæ–°å·¥å…·          â”‚ Tool Registry                 â”‚
â”‚  ä»£ç ç”Ÿæˆ          â”‚ ç”Ÿæˆå¹¶æ‰§è¡Œä»£ç           â”‚ Code Tool + Sandbox           â”‚
â”‚  åº”ç”¨éƒ¨ç½²          â”‚ ä¸€é”®éƒ¨ç½²åº”ç”¨            â”‚ Deployer                      â”‚
â”‚  å¯è§†åŒ–ç¼–æ’        â”‚ å¯è§†åŒ–ç¼–è¾‘å·¥ä½œæµ        â”‚ React Flow + Code-First       â”‚
â”‚  æç¤ºè¯å·¥ç¨‹        â”‚ ä¼˜åŒ– Agent è¡¨ç°         â”‚ Prompt Editor + A/B Test      â”‚
â”‚  è°ƒè¯•æµ‹è¯•          â”‚ å®æ—¶è¿½è¸ªå’Œè°ƒè¯•          â”‚ Execution Tracer              â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 ä½¿ç”¨åœºæ™¯

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          ä½¿ç”¨åœºæ™¯                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  åœºæ™¯ 1: ç›´æ¥ä»»åŠ¡æ‰§è¡Œ                                                        â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ç”¨æˆ·: "å¸®æˆ‘åˆ†æè¿™ä¸ª CSV æ–‡ä»¶ï¼Œç”Ÿæˆå¯è§†åŒ–å›¾è¡¨"                               â”‚
â”‚  ç³»ç»Ÿ: [æ‰§è¡Œ] è¯»å–æ–‡ä»¶ â†’ åˆ†ææ•°æ® â†’ ç”Ÿæˆå›¾è¡¨ â†’ è¿”å›ç»“æœ                      â”‚
â”‚                                                                             â”‚
â”‚  åœºæ™¯ 2: å·¥ä½œæµè®¾è®¡                                                          â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ç”¨æˆ·: "è®¾è®¡ä¸€ä¸ªæ•°æ®åˆ†æå·¥ä½œæµï¼Œèƒ½è‡ªåŠ¨è¯»å–æ•°æ®ã€åˆ†æã€ç”ŸæˆæŠ¥å‘Š"              â”‚
â”‚  ç³»ç»Ÿ: [è®¾è®¡] åˆ›å»ºå·¥ä½œæµ â†’ å¯è§†åŒ–å±•ç¤º â†’ å¯ç¼–è¾‘å®Œå–„                           â”‚
â”‚                                                                             â”‚
â”‚  åœºæ™¯ 3: æ··åˆæ¨¡å¼                                                            â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ç”¨æˆ·: "å…ˆå¸®æˆ‘åˆ†æè¿™ä¸ªæ–‡ä»¶" [æ‰§è¡Œä»»åŠ¡]                                       â”‚
â”‚  ç”¨æˆ·: "æŠŠè¿™ä¸ªæµç¨‹ä¿å­˜ä¸ºå·¥ä½œæµ" [è½¬æ¢ä¸ºå·¥ä½œæµ]                               â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ç»Ÿä¸€å¯¹è¯ç•Œé¢

### 3.1 ç•Œé¢è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ç»Ÿä¸€å¯¹è¯ç•Œé¢                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  [ğŸ” æœç´¢] [ğŸ“‹ å·¥ä½œæµ] [âš™ï¸ è®¾ç½®]                    [ğŸ‘¤ ç”¨æˆ·]         â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                          å¯¹è¯åŒºåŸŸ                                      â”‚ â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚ â”‚
â”‚  â”‚                                                                        â”‚ â”‚
â”‚  â”‚  ğŸ‘¤ ç”¨æˆ·: å¸®æˆ‘å†™ä¸€ä¸ª Python APIï¼Œè¿æ¥åˆ°æ•°æ®åº“ï¼Œéƒ¨ç½²åˆ°æœåŠ¡å™¨            â”‚ â”‚
â”‚  â”‚                                                                        â”‚ â”‚
â”‚  â”‚  ğŸ¤– Agent: æˆ‘æ¥å¸®æ‚¨å®Œæˆè¿™ä¸ªä»»åŠ¡ã€‚                                      â”‚ â”‚
â”‚  â”‚                                                                        â”‚ â”‚
â”‚  â”‚  [æ€è€ƒä¸­...]                                                           â”‚ â”‚
â”‚  â”‚                                                                        â”‚ â”‚
â”‚  â”‚  ğŸ¤– Agent: æˆ‘å·²ç»ä¸ºæ‚¨åˆ›å»ºäº†ä»¥ä¸‹å†…å®¹ï¼š                                  â”‚ â”‚
â”‚  â”‚                                                                        â”‚ â”‚
â”‚  â”‚  ğŸ“„ 1. Python API ä»£ç  (app.py)                                       â”‚ â”‚
â”‚  â”‚  ```python                                                             â”‚ â”‚
â”‚  â”‚  from fastapi import FastAPI                                           â”‚ â”‚
â”‚  â”‚  from sqlalchemy import create_engine                                  â”‚ â”‚
â”‚  â”‚  ...                                                                   â”‚ â”‚
â”‚  â”‚  ```                                                                   â”‚ â”‚
â”‚  â”‚                                                                        â”‚ â”‚
â”‚  â”‚  ğŸ”§ 2. å·²è¿æ¥æ•°æ®åº“: postgresql://...                                  â”‚ â”‚
â”‚  â”‚                                                                        â”‚ â”‚
â”‚  â”‚  ğŸš€ 3. å·²éƒ¨ç½²åˆ°: https://api.example.com                               â”‚ â”‚
â”‚  â”‚                                                                        â”‚ â”‚
â”‚  â”‚  âœ… ä»»åŠ¡å®Œæˆï¼                                                          â”‚ â”‚
â”‚  â”‚                                                                        â”‚ â”‚
â”‚  â”‚  [æŸ¥çœ‹ä»£ç ] [æµ‹è¯•API] [ä¿å­˜ä¸ºå·¥ä½œæµ] [éƒ¨ç½²æ—¥å¿—]                        â”‚ â”‚
â”‚  â”‚                                                                        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  æ‰§è¡Œè¿½è¸ª (å¯å±•å¼€)                                                     â”‚ â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚ â”‚
â”‚  â”‚  â–¶ ç”Ÿæˆä»£ç  (2.3s)                                                    â”‚ â”‚
â”‚  â”‚  â–¶ è°ƒç”¨å·¥å…·: connect_db (1.2s)                                        â”‚ â”‚
â”‚  â”‚  â–¶ è°ƒç”¨å·¥å…·: create_file (0.5s)                                       â”‚ â”‚
â”‚  â”‚  â–¶ éƒ¨ç½²åº”ç”¨ (5.8s)                                                    â”‚ â”‚
â”‚  â”‚  â””â”€ æ€»è€—æ—¶: 9.8s                                                     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  è¾“å…¥æ¡†                                                                â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚ è¾“å…¥æ¶ˆæ¯...                                    [ğŸ“] [ğŸ¤] [â–¶ï¸ å‘é€]â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 ç•Œé¢æ¨¡å¼åˆ‡æ¢

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          ç•Œé¢æ¨¡å¼                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  æ¨¡å¼ 1: å¯¹è¯æ¨¡å¼ (é»˜è®¤)                                                     â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  â€¢ çº¯å¯¹è¯ç•Œé¢                                                               â”‚
â”‚  â€¢ é€‚åˆï¼šä»»åŠ¡æ‰§è¡Œã€ç®€å•äº¤äº’                                                  â”‚
â”‚  â€¢ ç‰¹ç‚¹ï¼šç®€æ´ã€ä¸“æ³¨                                                         â”‚
â”‚                                                                             â”‚
â”‚  æ¨¡å¼ 2: å·¥ä½œå°æ¨¡å¼                                                          â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  â€¢ å¯¹è¯ + å¯è§†åŒ–å·¥ä½œæµ                                                      â”‚
â”‚  â€¢ é€‚åˆï¼šå·¥ä½œæµè®¾è®¡ã€å¤æ‚ç¼–æ’                                                â”‚
â”‚  â€¢ ç‰¹ç‚¹ï¼šå¯è§†åŒ–ã€å¯ç¼–è¾‘                                                     â”‚
â”‚                                                                             â”‚
â”‚  æ¨¡å¼ 3: è°ƒè¯•æ¨¡å¼                                                            â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  â€¢ å¯¹è¯ + æ‰§è¡Œè¿½è¸ª + çŠ¶æ€é¢æ¿                                               â”‚
â”‚  â€¢ é€‚åˆï¼šè°ƒè¯•ã€ä¼˜åŒ–                                                         â”‚
â”‚  â€¢ ç‰¹ç‚¹ï¼šè¯¦ç»†ã€å¯è¿½æº¯                                                       â”‚
â”‚                                                                             â”‚
â”‚  åˆ‡æ¢æ–¹å¼ï¼š                                                                 â”‚
â”‚  â€¢ è‡ªåŠ¨åˆ‡æ¢ï¼šæ ¹æ®ç”¨æˆ·æ„å›¾è‡ªåŠ¨åˆ‡æ¢                                           â”‚
â”‚  â€¢ æ‰‹åŠ¨åˆ‡æ¢ï¼šç”¨æˆ·ç‚¹å‡»æ¨¡å¼æŒ‰é’®                                               â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## æ™ºèƒ½æ„å›¾è¯†åˆ«

### 4.1 æ„å›¾åˆ†ç±»

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          æ„å›¾åˆ†ç±»ç³»ç»Ÿ                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  æ„å›¾ç±»å‹          â”‚ ç‰¹å¾                    â”‚ å¤„ç†æ–¹å¼                      â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ä»»åŠ¡æ‰§è¡Œ          â”‚ "å¸®æˆ‘..."ã€"æ‰§è¡Œ..."    â”‚ Agent Core ç›´æ¥æ‰§è¡Œ           â”‚
â”‚  å·¥ä½œæµè®¾è®¡        â”‚ "è®¾è®¡..."ã€"åˆ›å»ºæµç¨‹"   â”‚ å·¥ä½œå°åˆ›å»ºå·¥ä½œæµ              â”‚
â”‚  å·¥å…·æ³¨å†Œ          â”‚ "æ³¨å†Œå·¥å…·..."ã€"æ·»åŠ "   â”‚ Tool Registry æ³¨å†Œ            â”‚
â”‚  ä»£ç ç”Ÿæˆ          â”‚ "å†™ä»£ç ..."ã€"ç”Ÿæˆ"     â”‚ Code Tool ç”Ÿæˆä»£ç             â”‚
â”‚  åº”ç”¨éƒ¨ç½²          â”‚ "éƒ¨ç½²..."ã€"å‘å¸ƒ"       â”‚ Deployer éƒ¨ç½²                 â”‚
â”‚  æŸ¥è¯¢ä¿¡æ¯          â”‚ "æŸ¥çœ‹..."ã€"æ˜¾ç¤º"       â”‚ æŸ¥è¯¢æ•°æ®åº“/çŠ¶æ€               â”‚
â”‚  ä¿®æ”¹é…ç½®          â”‚ "ä¿®æ”¹..."ã€"æ›´æ–°"       â”‚ æ›´æ–°é…ç½®                      â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 æ„å›¾è¯†åˆ«æµç¨‹

```python
# backend/core/intent/intent_classifier.py

class IntentClassifier:
    """æ„å›¾åˆ†ç±»å™¨"""

    async def classify(self, user_input: str, context: dict) -> Intent:
        """
        åˆ†ç±»ç”¨æˆ·æ„å›¾

        è¿”å›:
        - Intent.EXECUTE_TASK: æ‰§è¡Œä»»åŠ¡
        - Intent.DESIGN_WORKFLOW: è®¾è®¡å·¥ä½œæµ
        - Intent.REGISTER_TOOL: æ³¨å†Œå·¥å…·
        - Intent.GENERATE_CODE: ç”Ÿæˆä»£ç 
        - Intent.DEPLOY_APP: éƒ¨ç½²åº”ç”¨
        - Intent.QUERY_INFO: æŸ¥è¯¢ä¿¡æ¯
        - Intent.MODIFY_CONFIG: ä¿®æ”¹é…ç½®
        """
        # 1. å…³é”®è¯åŒ¹é…ï¼ˆå¿«é€Ÿè·¯å¾„ï¼‰
        if self._has_keywords(user_input, ["è®¾è®¡", "åˆ›å»ºæµç¨‹", "å·¥ä½œæµ"]):
            return Intent.DESIGN_WORKFLOW

        if self._has_keywords(user_input, ["æ³¨å†Œ", "æ·»åŠ å·¥å…·"]):
            return Intent.REGISTER_TOOL

        # 2. LLM åˆ†ç±»ï¼ˆç²¾ç¡®è·¯å¾„ï¼‰
        prompt = f"""
        åˆ†æç”¨æˆ·æ„å›¾ï¼Œé€‰æ‹©æœ€åˆé€‚çš„ç±»å‹ï¼š

        ç”¨æˆ·è¾“å…¥: {user_input}
        ä¸Šä¸‹æ–‡: {context}

        æ„å›¾ç±»å‹:
        1. EXECUTE_TASK - æ‰§è¡Œå…·ä½“ä»»åŠ¡ï¼ˆå¦‚ï¼šåˆ†ææ–‡ä»¶ã€æŸ¥è¯¢æ•°æ®ï¼‰
        2. DESIGN_WORKFLOW - è®¾è®¡å·¥ä½œæµï¼ˆå¦‚ï¼šåˆ›å»ºæµç¨‹ã€è®¾è®¡ç³»ç»Ÿï¼‰
        3. REGISTER_TOOL - æ³¨å†Œå·¥å…·ï¼ˆå¦‚ï¼šæ·»åŠ å·¥å…·ã€æ³¨å†ŒAPIï¼‰
        4. GENERATE_CODE - ç”Ÿæˆä»£ç ï¼ˆå¦‚ï¼šå†™ä»£ç ã€ç”Ÿæˆè„šæœ¬ï¼‰
        5. DEPLOY_APP - éƒ¨ç½²åº”ç”¨ï¼ˆå¦‚ï¼šéƒ¨ç½²ã€å‘å¸ƒï¼‰
        6. QUERY_INFO - æŸ¥è¯¢ä¿¡æ¯ï¼ˆå¦‚ï¼šæŸ¥çœ‹ã€æ˜¾ç¤ºï¼‰
        7. MODIFY_CONFIG - ä¿®æ”¹é…ç½®ï¼ˆå¦‚ï¼šä¿®æ”¹ã€æ›´æ–°è®¾ç½®ï¼‰

        è¿”å› JSON: {{"intent": "ç±»å‹", "confidence": 0.9, "reason": "åŸå› "}}
        """

        response = await self.llm.chat(prompt)
        result = json.loads(response)

        return Intent(result["intent"])
```

### 4.3 æ„å›¾å¤„ç†è·¯ç”±

```python
# backend/core/router/intent_router.py

class IntentRouter:
    """æ„å›¾è·¯ç”±å™¨"""

    async def route(self, intent: Intent, user_input: str, context: dict):
        """æ ¹æ®æ„å›¾è·¯ç”±åˆ°ä¸åŒçš„å¤„ç†å™¨"""

        if intent == Intent.EXECUTE_TASK:
            # ä»»åŠ¡æ‰§è¡Œï¼šç›´æ¥ä½¿ç”¨ Agent Core
            return await self._execute_task(user_input, context)

        elif intent == Intent.DESIGN_WORKFLOW:
            # å·¥ä½œæµè®¾è®¡ï¼šä½¿ç”¨å·¥ä½œå°
            return await self._design_workflow(user_input, context)

        elif intent == Intent.REGISTER_TOOL:
            # å·¥å…·æ³¨å†Œï¼šä½¿ç”¨ Tool Registry
            return await self._register_tool(user_input, context)

        elif intent == Intent.GENERATE_CODE:
            # ä»£ç ç”Ÿæˆï¼šä½¿ç”¨ Code Tool
            return await self._generate_code(user_input, context)

        elif intent == Intent.DEPLOY_APP:
            # åº”ç”¨éƒ¨ç½²ï¼šä½¿ç”¨ Deployer
            return await self._deploy_app(user_input, context)

        # ...
```

---

## æ¸è¿›å¼å·¥ä½œæµè®¾è®¡

### 5.1 è®¾è®¡æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        æ¸è¿›å¼å·¥ä½œæµè®¾è®¡                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  é˜¶æ®µ 1: å¯¹è¯è®¾è®¡                                                            â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ç”¨æˆ·: "è®¾è®¡ä¸€ä¸ªå®¢æœå·¥ä½œæµï¼Œèƒ½å›ç­”äº§å“é—®é¢˜ã€æŸ¥è¯¢è®¢å•ã€å¿…è¦æ—¶è½¬äººå·¥"          â”‚
â”‚                                                                             â”‚
â”‚  ç³»ç»Ÿ: "å¥½çš„ï¼Œæˆ‘æ¥ä¸ºæ‚¨è®¾è®¡ã€‚è¯·é—®ï¼š                                           â”‚
â”‚        1. äº§å“çŸ¥è¯†åº“æ˜¯å¦å·²å‡†å¤‡å¥½ï¼Ÿ                                          â”‚
â”‚        2. è®¢å•ç³»ç»Ÿæ˜¯å¦æœ‰APIå¯ä»¥è°ƒç”¨ï¼Ÿ                                        â”‚
â”‚        3. è½¬äººå·¥çš„æ¡ä»¶æ˜¯ä»€ä¹ˆï¼Ÿ"                                              â”‚
â”‚                                                                             â”‚
â”‚  ç”¨æˆ·: "çŸ¥è¯†åº“å·²å‡†å¤‡å¥½ï¼Œè®¢å•APIæ˜¯ https://api.example.com/ordersï¼Œ           â”‚
â”‚        å½“ç”¨æˆ·æ˜ç¡®è¦æ±‚è½¬äººå·¥æ—¶è½¬æ¥"                                           â”‚
â”‚                                                                             â”‚
â”‚  ç³»ç»Ÿ: "âœ… å·²ä¸ºæ‚¨åˆ›å»ºå®¢æœå·¥ä½œæµï¼ŒåŒ…å«ï¼š                                      â”‚
â”‚        â€¢ æ„å›¾è¯†åˆ«èŠ‚ç‚¹                                                       â”‚
â”‚        â€¢ æ¡ä»¶è·¯ç”±ï¼ˆäº§å“é—®é¢˜/è®¢å•æŸ¥è¯¢/è½¬äººå·¥ï¼‰                               â”‚
â”‚        â€¢ çŸ¥è¯†åº“æ£€ç´¢å·¥å…·                                                     â”‚
â”‚        â€¢ è®¢å•APIå·¥å…·                                                        â”‚
â”‚        â€¢ å·¥å•ç³»ç»Ÿå·¥å…·                                                       â”‚
â”‚                                                                             â”‚
â”‚        [æŸ¥çœ‹å·¥ä½œæµ] [è¿›å…¥ç¼–è¾‘å™¨] [ç«‹å³æµ‹è¯•]"                                â”‚
â”‚                                                                             â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                             â”‚
â”‚  é˜¶æ®µ 2: å¯è§†åŒ–å±•ç¤º                                                          â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ç³»ç»Ÿè‡ªåŠ¨åˆ‡æ¢åˆ°å·¥ä½œå°æ¨¡å¼ï¼Œå±•ç¤ºå¯è§†åŒ–å·¥ä½œæµï¼š                                â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                               â”‚
â”‚  â”‚  START  â”‚                                                               â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                                                               â”‚
â”‚       â”‚                                                                    â”‚
â”‚       â–¼                                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                           â”‚
â”‚  â”‚  æ„å›¾è¯†åˆ«   â”‚                                                           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                                                           â”‚
â”‚        â”‚                                                                    â”‚
â”‚        â–¼                                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                           â”‚
â”‚  â”‚  æ¡ä»¶è·¯ç”±   â”‚                                                           â”‚
â”‚  â””â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜                                                           â”‚
â”‚     â”‚      â”‚      â”‚                                                         â”‚
â”‚     â–¼      â–¼      â–¼                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”                                                     â”‚
â”‚  â”‚é—®ç­”â”‚ â”‚æŸ¥è¯¢â”‚ â”‚è½¬äººâ”‚                                                     â”‚
â”‚  â”‚å¤„ç†â”‚ â”‚è®¢å•â”‚ â”‚ å·¥ â”‚                                                     â”‚
â”‚  â””â”€â”€â”¬â”€â”˜ â””â”€â”€â”¬â”€â”˜ â””â”€â”€â”¬â”€â”˜                                                     â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜                                                         â”‚
â”‚        â”‚                                                                    â”‚
â”‚        â–¼                                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                               â”‚
â”‚  â”‚   END   â”‚                                                               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                               â”‚
â”‚                                                                             â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                             â”‚
â”‚  é˜¶æ®µ 3: ç¼–è¾‘å®Œå–„                                                            â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ç”¨æˆ·å¯ä»¥åœ¨å·¥ä½œå°ä¸­ï¼š                                                        â”‚
â”‚  â€¢ æ‹–æ‹½æ·»åŠ æ–°èŠ‚ç‚¹                                                           â”‚
â”‚  â€¢ ä¿®æ”¹èŠ‚ç‚¹é…ç½®                                                             â”‚
â”‚  â€¢ è°ƒæ•´æµç¨‹é¡ºåº                                                             â”‚
â”‚  â€¢ ç¼–è¾‘ä»£ç ï¼ˆCode-Firstï¼‰                                                   â”‚
â”‚  â€¢ æµ‹è¯•è¿è¡Œ                                                                 â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.2 å¯¹è¯åˆ°å·¥ä½œæµçš„è½¬æ¢

```python
# backend/core/studio/converter/dialog_to_workflow.py

class DialogToWorkflowConverter:
    """å¯¹è¯åˆ°å·¥ä½œæµè½¬æ¢å™¨"""

    async def convert(
        self,
        dialog_history: list[dict],
        user_requirements: str,
    ) -> Workflow:
        """
        å°†å¯¹è¯è½¬æ¢ä¸ºå·¥ä½œæµ

        æµç¨‹:
        1. åˆ†æå¯¹è¯ï¼Œæå–éœ€æ±‚
        2. ç”Ÿæˆå·¥ä½œæµç»“æ„
        3. åˆ›å»º Agent èŠ‚ç‚¹
        4. é…ç½®å·¥å…·èŠ‚ç‚¹
        5. ç”Ÿæˆä»£ç 
        6. åˆ›å»ºå¯è§†åŒ–å®šä¹‰
        """
        # 1. åˆ†æéœ€æ±‚
        requirements = await self._analyze_requirements(
            dialog_history,
            user_requirements,
        )

        # 2. ç”Ÿæˆå·¥ä½œæµç»“æ„
        workflow_structure = await self._generate_structure(requirements)

        # 3. åˆ›å»ºèŠ‚ç‚¹
        nodes = []
        for step in workflow_structure.steps:
            if step.type == "agent":
                node = await self._create_agent_node(step)
            elif step.type == "tool":
                node = await self._create_tool_node(step)
            elif step.type == "condition":
                node = await self._create_condition_node(step)
            nodes.append(node)

        # 4. ç”Ÿæˆä»£ç 
        code = await self._generate_code(nodes, workflow_structure.edges)

        # 5. åˆ›å»ºå¯è§†åŒ–å®šä¹‰
        visual_definition = await self._generate_visual(nodes, workflow_structure.edges)

        # 6. åˆ›å»ºå·¥ä½œæµ
        workflow = Workflow(
            name=requirements.name,
            description=requirements.description,
            code=code,
            definition=visual_definition,
        )

        return workflow
```

---

## æŠ€æœ¯æ¶æ„

### 6.1 æ•´ä½“æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          æ•´ä½“æ¶æ„                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                        ç»Ÿä¸€å¯¹è¯ç•Œé¢                                   â”‚   â”‚
â”‚  â”‚  â€¢ å¯¹è¯è¾“å…¥                                                          â”‚   â”‚
â”‚  â”‚  â€¢ æ‰§è¡Œè¿½è¸ª                                                          â”‚   â”‚
â”‚  â”‚  â€¢ å·¥ä½œæµå¯è§†åŒ–ï¼ˆå¯é€‰ï¼‰                                               â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                    â”‚                                        â”‚
â”‚                                    â–¼                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                      æ„å›¾è¯†åˆ«ä¸è·¯ç”±                                   â”‚   â”‚
â”‚  â”‚  â€¢ Intent Classifier                                                 â”‚   â”‚
â”‚  â”‚  â€¢ Intent Router                                                     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                    â”‚                                        â”‚
â”‚          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚          â–¼                         â–¼                         â–¼             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ ä»»åŠ¡æ‰§è¡Œè·¯å¾„  â”‚        â”‚ å·¥ä½œæµè®¾è®¡è·¯å¾„â”‚        â”‚ å·¥å…·æ³¨å†Œè·¯å¾„ â”‚          â”‚
â”‚  â”‚              â”‚        â”‚              â”‚        â”‚              â”‚          â”‚
â”‚  â”‚ Agent Core   â”‚        â”‚ Studio       â”‚        â”‚ Tool Registryâ”‚          â”‚
â”‚  â”‚ â€¢ Main Loop  â”‚        â”‚ â€¢ Creator    â”‚        â”‚ â€¢ Register   â”‚          â”‚
â”‚  â”‚ â€¢ Tools      â”‚        â”‚ â€¢ CodeGen    â”‚        â”‚ â€¢ Validate   â”‚          â”‚
â”‚  â”‚ â€¢ Memory     â”‚        â”‚ â€¢ Parser     â”‚        â”‚ â€¢ Execute    â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚          â”‚                         â”‚                         â”‚             â”‚
â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                                    â–¼                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                      å…±äº«åŸºç¡€è®¾æ–½                                     â”‚   â”‚
â”‚  â”‚  â€¢ LLM Gateway                                                      â”‚   â”‚
â”‚  â”‚  â€¢ Database                                                          â”‚   â”‚
â”‚  â”‚  â€¢ Vector Store                                                      â”‚   â”‚
â”‚  â”‚  â€¢ Sandbox                                                           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.2 æ ¸å¿ƒç»„ä»¶

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          æ ¸å¿ƒç»„ä»¶                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  1. Intent System (æ„å›¾ç³»ç»Ÿ)                                                â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  â€¢ IntentClassifier: æ„å›¾åˆ†ç±»                                               â”‚
â”‚  â€¢ IntentRouter: æ„å›¾è·¯ç”±                                                   â”‚
â”‚  â€¢ ContextAnalyzer: ä¸Šä¸‹æ–‡åˆ†æ                                             â”‚
â”‚                                                                             â”‚
â”‚  2. Agent Core (æ‰§è¡Œå¼•æ“)                                                    â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  â€¢ AgentEngine: ä¸»å¾ªç¯                                                      â”‚
â”‚  â€¢ ContextManager: ä¸Šä¸‹æ–‡ç®¡ç†                                               â”‚
â”‚  â€¢ ToolExecutor: å·¥å…·æ‰§è¡Œ                                                   â”‚
â”‚  â€¢ MemoryManager: è®°å¿†ç®¡ç†                                                  â”‚
â”‚                                                                             â”‚
â”‚  3. Studio (å·¥ä½œå°)                                                          â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  â€¢ Creator: å¯¹è¯åˆ›å»ºå™¨                                                      â”‚
â”‚  â€¢ CodeGen: ä»£ç ç”Ÿæˆå™¨                                                      â”‚
â”‚  â€¢ Parser: ä»£ç è§£æå™¨                                                       â”‚
â”‚  â€¢ TestRunner: æµ‹è¯•è¿è¡Œå™¨                                                   â”‚
â”‚  â€¢ Deployer: éƒ¨ç½²ç®¡ç†å™¨                                                     â”‚
â”‚                                                                             â”‚
â”‚  4. Tool System (å·¥å…·ç³»ç»Ÿ)                                                   â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  â€¢ ToolRegistry: å·¥å…·æ³¨å†Œä¸­å¿ƒ                                               â”‚
â”‚  â€¢ ToolExecutor: å·¥å…·æ‰§è¡Œå™¨                                                 â”‚
â”‚  â€¢ ToolValidator: å·¥å…·éªŒè¯å™¨                                                â”‚
â”‚  â€¢ CodeTool: ä»£ç ç”Ÿæˆå·¥å…·                                                   â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## å®ç°æ–¹æ¡ˆ

### 7.1 ç»Ÿä¸€å¯¹è¯ API

```python
# backend/api/v1/chat.py

@router.post("/chat")
async def chat(
    request: ChatRequest,
    current_user: User = Depends(get_current_user),
):
    """
    ç»Ÿä¸€å¯¹è¯æ¥å£

    è‡ªåŠ¨è¯†åˆ«æ„å›¾ï¼Œè·¯ç”±åˆ°ä¸åŒçš„å¤„ç†å™¨
    """
    # 1. æ„å›¾è¯†åˆ«
    intent = await intent_classifier.classify(
        user_input=request.message,
        context=request.context,
    )

    # 2. è·¯ç”±å¤„ç†
    router = IntentRouter()

    async def event_generator():
        async for event in router.route(intent, request.message, request.context):
            yield event

    return StreamingResponse(
        event_generator(),
        media_type="text/event-stream",
    )
```

### 7.2 ä»»åŠ¡æ‰§è¡Œæµç¨‹

```python
# backend/core/router/task_executor.py

class TaskExecutor:
    """ä»»åŠ¡æ‰§è¡Œå™¨"""

    async def execute(
        self,
        user_input: str,
        context: dict,
    ) -> AsyncGenerator[Event, None]:
        """
        æ‰§è¡Œä»»åŠ¡

        æ”¯æŒï¼š
        - ä»£ç ç”Ÿæˆå’Œæ‰§è¡Œ
        - å·¥å…·è°ƒç”¨
        - åº”ç”¨éƒ¨ç½²
        """
        # 1. åˆ›å»ºä¸´æ—¶ Agent
        agent = await self._create_temp_agent(user_input, context)

        # 2. åˆ›å»ºå¼•æ“
        engine = AgentEngine(
            agent=agent,
            llm_gateway=self.llm_gateway,
            tool_registry=self.tool_registry,
        )

        # 3. æ‰§è¡Œ
        async for event in engine.run(
            user_input=user_input,
            session_id=context.get("session_id"),
        ):
            yield event
```

### 7.3 å·¥ä½œæµè®¾è®¡æµç¨‹

```python
# backend/core/router/workflow_designer.py

class WorkflowDesigner:
    """å·¥ä½œæµè®¾è®¡å™¨"""

    async def design(
        self,
        user_input: str,
        context: dict,
    ) -> AsyncGenerator[Event, None]:
        """
        è®¾è®¡å·¥ä½œæµ

        æµç¨‹ï¼š
        1. å¯¹è¯å¼æ”¶é›†éœ€æ±‚
        2. ç”Ÿæˆå·¥ä½œæµç»“æ„
        3. åˆ›å»ºå¯è§†åŒ–å®šä¹‰
        4. ç”Ÿæˆä»£ç 
        5. è¿”å›å·¥ä½œæµ
        """
        # 1. å¯¹è¯å¼æ”¶é›†éœ€æ±‚
        yield Event(type="thinking", data={"message": "æ­£åœ¨åˆ†ææ‚¨çš„éœ€æ±‚..."})

        requirements = await self._collect_requirements(user_input, context)

        # 2. ç”Ÿæˆå·¥ä½œæµç»“æ„
        yield Event(type="generating", data={"message": "æ­£åœ¨ç”Ÿæˆå·¥ä½œæµ..."})

        workflow = await self._generate_workflow(requirements)

        # 3. åˆ›å»ºå¯è§†åŒ–å®šä¹‰
        visual_def = await self._create_visual_definition(workflow)

        # 4. è¿”å›ç»“æœ
        yield Event(
            type="workflow_created",
            data={
                "workflow_id": workflow.id,
                "visual_definition": visual_def,
                "code": workflow.code,
            },
        )
```

### 7.4 å·¥å…·æ³¨å†Œæµç¨‹

```python
# backend/core/router/tool_registrar.py

class ToolRegistrar:
    """å·¥å…·æ³¨å†Œå™¨"""

    async def register(
        self,
        user_input: str,
        context: dict,
    ) -> AsyncGenerator[Event, None]:
        """
        æ³¨å†Œå·¥å…·

        æ”¯æŒï¼š
        - é€šè¿‡å¯¹è¯æè¿°æ³¨å†Œ
        - é€šè¿‡ä»£ç æ³¨å†Œ
        - é€šè¿‡ API æ³¨å†Œ
        """
        # 1. è§£æå·¥å…·æè¿°
        tool_spec = await self._parse_tool_description(user_input)

        # 2. ç”Ÿæˆå·¥å…·ä»£ç 
        tool_code = await self._generate_tool_code(tool_spec)

        # 3. éªŒè¯å·¥å…·
        validation_result = await self._validate_tool(tool_code)

        if not validation_result.valid:
            yield Event(
                type="error",
                data={"error": validation_result.error},
            )
            return

        # 4. æ³¨å†Œå·¥å…·
        tool = await self.tool_registry.register(
            name=tool_spec.name,
            description=tool_spec.description,
            code=tool_code,
        )

        # 5. è¿”å›ç»“æœ
        yield Event(
            type="tool_registered",
            data={"tool_id": tool.id, "tool_name": tool.name},
        )
```

---

## æœ€ä½³å®è·µ

### 8.1 è®¾è®¡åŸåˆ™

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          è®¾è®¡åŸåˆ™                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  1. å¯¹è¯ä¼˜å…ˆ                                                                 â”‚
â”‚     â€¢ æ‰€æœ‰åŠŸèƒ½éƒ½é€šè¿‡å¯¹è¯è®¿é—®                                                 â”‚
â”‚     â€¢ å¯è§†åŒ–æ˜¯è¾…åŠ©ï¼Œä¸æ˜¯å¿…éœ€                                                 â”‚
â”‚                                                                             â”‚
â”‚  2. æ™ºèƒ½ç†è§£                                                                 â”‚
â”‚     â€¢ è‡ªåŠ¨è¯†åˆ«ç”¨æˆ·æ„å›¾                                                       â”‚
â”‚     â€¢ è‡ªåŠ¨é€‰æ‹©æ‰§è¡Œæ–¹å¼                                                       â”‚
â”‚                                                                             â”‚
â”‚  3. æ¸è¿›å¼è®¾è®¡                                                                â”‚
â”‚     â€¢ ä»ç®€å•å¯¹è¯å¼€å§‹                                                         â”‚
â”‚     â€¢ é€æ­¥å®Œå–„ä¸ºå·¥ä½œæµ                                                       â”‚
â”‚                                                                             â”‚
â”‚  4. Code-First                                                              â”‚
â”‚     â€¢ åº•å±‚æ˜¯ä»£ç                                                              â”‚
â”‚     â€¢ å¯¹è¯å’Œå¯è§†åŒ–éƒ½æ˜¯äº¤äº’æ–¹å¼                                               â”‚
â”‚                                                                             â”‚
â”‚  5. ç»Ÿä¸€ä½“éªŒ                                                                 â”‚
â”‚     â€¢ ä¸€ä¸ªç•Œé¢å®Œæˆæ‰€æœ‰æ“ä½œ                                                   â”‚
â”‚     â€¢ æ¨¡å¼è‡ªåŠ¨åˆ‡æ¢                                                           â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 8.2 ç”¨æˆ·æ—…ç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          ç”¨æˆ·æ—…ç¨‹                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  æ–°æ‰‹ç”¨æˆ·:                                                                    â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  1. æ‰“å¼€ç•Œé¢ï¼Œç›´æ¥å¯¹è¯                                                       â”‚
â”‚  2. "å¸®æˆ‘åˆ†æè¿™ä¸ªæ–‡ä»¶" â†’ ç³»ç»Ÿæ‰§è¡Œ â†’ è¿”å›ç»“æœ                                â”‚
â”‚  3. "æŠŠè¿™ä¸ªæµç¨‹ä¿å­˜ä¸ºå·¥ä½œæµ" â†’ ç³»ç»Ÿåˆ›å»º â†’ å¯è§†åŒ–å±•ç¤º                         â”‚
â”‚                                                                             â”‚
â”‚  è¿›é˜¶ç”¨æˆ·:                                                                    â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  1. "è®¾è®¡ä¸€ä¸ªæ•°æ®åˆ†æå·¥ä½œæµ" â†’ ç³»ç»Ÿå¼•å¯¼è®¾è®¡                                  â”‚
â”‚  2. åœ¨å·¥ä½œå°ä¸­ç¼–è¾‘å®Œå–„                                                       â”‚
â”‚  3. æµ‹è¯•è¿è¡Œ                                                                 â”‚
â”‚  4. ä¸€é”®éƒ¨ç½²                                                                 â”‚
â”‚                                                                             â”‚
â”‚  ä¸“ä¸šç”¨æˆ·:                                                                    â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  1. ç›´æ¥åœ¨å·¥ä½œå°ç¼–å†™ä»£ç                                                      â”‚
â”‚  2. å¯è§†åŒ–è‡ªåŠ¨æ›´æ–°                                                           â”‚
â”‚  3. è°ƒè¯•ä¼˜åŒ–                                                                 â”‚
â”‚  4. éƒ¨ç½²è¿ç»´                                                                 â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## æ€»ç»“

### æ ¸å¿ƒç‰¹ç‚¹

1. **ç»Ÿä¸€å¯¹è¯ç•Œé¢**ï¼šä¸€ä¸ªç•Œé¢å®Œæˆæ‰€æœ‰æ“ä½œ
2. **æ™ºèƒ½æ„å›¾è¯†åˆ«**ï¼šè‡ªåŠ¨ç†è§£ç”¨æˆ·æ„å›¾ï¼Œé€‰æ‹©æ‰§è¡Œæ–¹å¼
3. **æ¸è¿›å¼è®¾è®¡**ï¼šä»å¯¹è¯åˆ°å·¥ä½œæµï¼Œé€æ­¥å®Œå–„
4. **Code-First**ï¼šåº•å±‚æ˜¯ä»£ç ï¼Œå¯¹è¯å’Œå¯è§†åŒ–éƒ½æ˜¯äº¤äº’æ–¹å¼

### æŠ€æœ¯å®ç°

1. **Intent System**ï¼šæ„å›¾è¯†åˆ«å’Œè·¯ç”±
2. **Agent Core**ï¼šä»»åŠ¡æ‰§è¡Œå¼•æ“
3. **Studio**ï¼šå·¥ä½œæµè®¾è®¡å’Œç¼–è¾‘
4. **Tool System**ï¼šå·¥å…·æ³¨å†Œå’Œæ‰§è¡Œ

### ç”¨æˆ·ä»·å€¼

1. **é›¶é—¨æ§›**ï¼šé€šè¿‡å¯¹è¯å®Œæˆå¤æ‚ä»»åŠ¡
2. **æ™ºèƒ½åŒ–**ï¼šç³»ç»Ÿè‡ªåŠ¨ç†è§£æ„å›¾
3. **çµæ´»æ€§**ï¼šæ”¯æŒå¤šç§äº¤äº’æ–¹å¼
4. **å¯æ‰©å±•**ï¼šæ”¯æŒå·¥å…·æ³¨å†Œå’Œå·¥ä½œæµè®¾è®¡

---

<div align="center">

**å¯¹è¯å³ç¼–ç¨‹ Â· å¯¹è¯å³è®¾è®¡ Â· ç»Ÿä¸€ä½“éªŒ**

*æ–‡æ¡£ç‰ˆæœ¬: v1.0.0 | æœ€åæ›´æ–°: 2026-01-14*

</div>
